---
title: App-V 4.5 SP2 发行说明
description: App-V 4.5 SP2 发行说明
author: dansimp
ms.assetid: 1b3a8a83-4523-4634-9f75-29bc22ca5815
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 08/30/2016
ms.openlocfilehash: 35cff3b2a2c110a4d8beba883a4cf9332381ea60
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/26/2020
ms.locfileid: "10802383"
---
# <span data-ttu-id="e2ccd-103">App-V 4.5 SP2 发行说明</span><span class="sxs-lookup"><span data-stu-id="e2ccd-103">App-V 4.5 SP2 Release Notes</span></span>


<span data-ttu-id="e2ccd-104">若要搜索这些发行说明，请按 CTRL + F。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-104">To search these Release Notes, press CTRL+F.</span></span>

<span data-ttu-id="e2ccd-105">**重要提示** 在安装 Microsoft Application Virtualization 管理系统之前，请仔细阅读这些发行说明。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-105">**Important** Read these Release Notes thoroughly before you install the Microsoft Application Virtualization Management System.</span></span> <span data-ttu-id="e2ccd-106">这些发行说明包含成功安装应用程序虚拟化管理系统所需的信息。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-106">These Release Notes contain information that you need to successfully install the Application Virtualization Management System.</span></span> <span data-ttu-id="e2ccd-107">这些发行说明包含产品文档中不可用的信息。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-107">These Release Notes contain information that is not available in the product documentation.</span></span> <span data-ttu-id="e2ccd-108">如果这些发行说明和其他应用程序虚拟化管理系统文档之间存在差异，则应将最新更改视为权威。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-108">If there is a discrepancy between these Release Notes and other Application Virtualization Management System documentation, the latest change should be considered authoritative.</span></span>

 

<span data-ttu-id="e2ccd-109">有关已知问题的更新信息，请访问 Microsoft TechNet 库，网址为[app-v 4.5 SP2 发行说明](https://go.microsoft.com/fwlink/?LinkId=184640)（ https://go.microsoft.com/fwlink/?LinkId=184640) 。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-109">For updated information about known issues, please visit the Microsoft TechNet Library at [App-V 4.5 SP2 Release Notes](https://go.microsoft.com/fwlink/?LinkId=184640) (https://go.microsoft.com/fwlink/?LinkId=184640).</span></span>

## <span data-ttu-id="e2ccd-110">关于 Microsoft Application Virtualization 4.5 Service Pack 2</span><span class="sxs-lookup"><span data-stu-id="e2ccd-110">About Microsoft Application Virtualization 4.5 Service Pack 2</span></span>


<span data-ttu-id="e2ccd-111">这些发行说明已更新，以反映 Microsoft Application Virtualization （app-v）4.5 服务 Pack2 （SP2）引入的更改。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-111">These Release Notes have been updated to reflect the changes introduced with Microsoft Application Virtualization (App-V)4.5 Service Pack2 (SP2).</span></span> <span data-ttu-id="e2ccd-112">此服务包包含以下更改：</span><span class="sxs-lookup"><span data-stu-id="e2ccd-112">This service pack contains the following changes:</span></span>

-   <span data-ttu-id="e2ccd-113">对 Office 2010 的支持： app-v 4.5 SP2 现在支持 Microsoft Office 2010 的虚拟化。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-113">Support for Office 2010: App-V4.5SP2 now supports the virtualization of Microsoft Office 2010.</span></span> <span data-ttu-id="e2ccd-114">有关将 Microsoft Office 2010 与 App-v 4.5 SP2 进行排序的说明性指南，请参阅[在 Microsoft app-v 4.6 中排序 Office 2010 的说明性指南](https://go.microsoft.com/fwlink/?LinkId=191539)（ https://go.microsoft.com/fwlink/?LinkId=191539) 。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-114">For prescriptive guidance for sequencing Microsoft Office 2010 with App-V 4.5 SP2, see [Prescriptive guidance for sequencing Office 2010 in Microsoft App-V 4.6](https://go.microsoft.com/fwlink/?LinkId=191539) (https://go.microsoft.com/fwlink/?LinkId=191539).</span></span>

-   <span data-ttu-id="e2ccd-115">数据库镜像支持： app-v 4.5 SP2 现在支持 Microsoft SQL Server 数据库镜像。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-115">Support for Database Mirroring: App-V4.5SP2 now supports Microsoft SQL Server Database Mirroring.</span></span> <span data-ttu-id="e2ccd-116">有关在 App-v 环境中配置数据库镜像的详细信息，请参阅[如何配置 MICROSOFT SQL Server 镜像支持的](https://go.microsoft.com/fwlink/?LinkId=190880)app-v （ https://go.microsoft.com/fwlink/?LinkId=190880) 。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-116">For more information about configuring database mirroring in your App-V environment, see [How to Configure Microsoft SQL Server Mirroring Support for App-V](https://go.microsoft.com/fwlink/?LinkId=190880) (https://go.microsoft.com/fwlink/?LinkId=190880).</span></span>

-   <span data-ttu-id="e2ccd-117">客户反馈和修补程序汇总： app-v 4.5 SP2 还包含修复步骤的汇总，以解决在 app-v 4.5 SP1 发布后发现的问题。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-117">Customer Feedback and Hotfix Rollup: App-V4.5 SP2 also includes a rollup of fixes to address issues found after the App-V 4.5SP1 release.</span></span> <span data-ttu-id="e2ccd-118">这些更新解决了 Microsoft 内部团队、合作伙伴和使用 App-v 4.5 的客户的已知问题和客户反馈的组合。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-118">The updates address a combination of known issues and customer feedback from Microsoft internal teams, partners, and customers who are using App-V4.5.</span></span> <span data-ttu-id="e2ccd-119">有关更新的完整列表，请参阅 Microsoft 知识库（KB）中的文章980847，[说明 Microsoft Application Virtualization 4.5 Service Pack 2](https://go.microsoft.com/fwlink/?LinkId=191540) （ https://go.microsoft.com/fwlink/?LinkId=191540) 。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-119">For a full list of the updates, see article 980847 in the Microsoft Knowledge Base (KB) at [Description of Microsoft Application Virtualization 4.5 Service Pack 2](https://go.microsoft.com/fwlink/?LinkId=191540) (https://go.microsoft.com/fwlink/?LinkId=191540).</span></span>

## <span data-ttu-id="e2ccd-120">关于产品文档</span><span class="sxs-lookup"><span data-stu-id="e2ccd-120">About the Product Documentation</span></span>


<span data-ttu-id="e2ccd-121">有关应用程序虚拟化（app-v）的综合性文档可在 Microsoft TechNet 的[应用程序虚拟化技术库](https://go.microsoft.com/fwlink/?LinkId=122939)（ https://go.microsoft.com/fwlink/?LinkId=122939) 。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-121">Comprehensive documentation for Application Virtualization (App-V) is available on Microsoft TechNet in the [Application Virtualization TechCenter Library](https://go.microsoft.com/fwlink/?LinkId=122939) (https://go.microsoft.com/fwlink/?LinkId=122939).</span></span> <span data-ttu-id="e2ccd-122">TechNet 文档包括应用程序虚拟化 Sequencer、应用程序虚拟化客户端和应用程序虚拟化服务器的联机帮助。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-122">The TechNet documentation includes the online Help for the Application Virtualization Sequencer, the Application Virtualization Clients, and the Application Virtualization Server.</span></span> <span data-ttu-id="e2ccd-123">它还包括 "应用程序虚拟化规划和部署指南" 和 "应用程序虚拟化操作指南"。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-123">It also includes the Application Virtualization Planning and Deployment Guide and the Application Virtualization Operations Guide.</span></span>

## <span data-ttu-id="e2ccd-124">防范安全漏洞和病毒</span><span class="sxs-lookup"><span data-stu-id="e2ccd-124">Protect Against Security Vulnerabilities and Viruses</span></span>


<span data-ttu-id="e2ccd-125">为了帮助防范安全漏洞和病毒，我们建议你为正在安装的任何新软件安装最新的可用安全更新。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-125">To help protect against security vulnerabilities and viruses, we recommend that you install the latest available security updates for any new software being installed.</span></span> <span data-ttu-id="e2ccd-126">有关详细信息，请参阅[Microsoft Security](https://go.microsoft.com/fwlink/?LinkId=3482) （ https://go.microsoft.com/fwlink/?LinkId=3482) 。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-126">For more information, see [Microsoft Security](https://go.microsoft.com/fwlink/?LinkId=3482) (https://go.microsoft.com/fwlink/?LinkId=3482).</span></span>

## <span data-ttu-id="e2ccd-127">提供反馈</span><span class="sxs-lookup"><span data-stu-id="e2ccd-127">Provide Feedback</span></span>


<span data-ttu-id="e2ccd-128">你可以通过应用程序虚拟化技术 " [App-v 文档论坛](https://go.microsoft.com/fwlink/?LinkId=122917)（"）提供反馈、提出建议或报告 Microsoft application virtualization （App-v）管理系统的问题。通过应用程序虚拟化技术论坛（）上的社区论坛 https://go.microsoft.com/fwlink/?LinkId=122917) 。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-128">You can provide feedback, make a suggestion, or report an issue with the Microsoft Application Virtualization (App-V) Management System through the community forum on the Application Virtualization TechCenter [App-V Documentation Forum](https://go.microsoft.com/fwlink/?LinkId=122917) (https://go.microsoft.com/fwlink/?LinkId=122917).</span></span>

<span data-ttu-id="e2ccd-129">您还可以直接向 App-v 文档团队发送文档反馈 <appvdocs@microsoft.com> 。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-129">You can also send your documentation feedback directly to the App-V documentation team at <appvdocs@microsoft.com>.</span></span>

## <span data-ttu-id="e2ccd-130">应用程序虚拟化 4.5 SP2 的已知问题</span><span class="sxs-lookup"><span data-stu-id="e2ccd-130">Known Issues with Application Virtualization4.5SP2</span></span>


<span data-ttu-id="e2ccd-131">本部分提供有关 Microsoft Application Virtualization （app-v） 4.5 SP2 问题的最新信息。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-131">This section provides the most up-to-date information about issues with Microsoft Application Virtualization (App-V)4.5SP2.</span></span> <span data-ttu-id="e2ccd-132">这些问题不会显示在产品文档中，在某些情况下，可能会矛盾现有产品文档。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-132">These issues do not appear in the product documentation and in some cases might contradict existing product documentation.</span></span> <span data-ttu-id="e2ccd-133">只要有可能，这些问题将在本软件的后续版本中解决。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-133">Whenever possible, these issues will be addressed in later releases of the software.</span></span>

### <span data-ttu-id="e2ccd-134">服务器管理控制台安装指南</span><span class="sxs-lookup"><span data-stu-id="e2ccd-134">Guidance for installing Server Management Console</span></span>

<span data-ttu-id="e2ccd-135">如果必须在不是主应用程序虚拟化发布和流式处理服务器的系统上安装管理软件，服务器安装支持在不同服务器上从主 App-v 管理服务器安装应用程序虚拟化管理控制台和应用程序虚拟化管理 Web 服务。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-135">If you have to install management software on systems other than the primary Application Virtualization publishing and streaming server, the server installation supports installing the Application Virtualization Management Console and Application Virtualization Management Web service on separate servers from the primary App-V Management Server.</span></span> <span data-ttu-id="e2ccd-136">若要跨多台服务器分发管理组件，必须在安装了应用程序虚拟化 Web 服务的服务器上启用 Kerberos 委派。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-136">To distribute the management components across multiple servers, Kerberos delegation must be enabled on the server where the Application Virtualization Web service is installed.</span></span> <span data-ttu-id="e2ccd-137">有关如何启用此支持的信息，请参阅[如何将服务器配置为受信任的委派](https://go.microsoft.com/fwlink/?LinkId=166682)（ https://go.microsoft.com/fwlink/?LinkId=166682) 。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-137">For information about how to enable this support, see [How to Configure the Server to be Trusted for Delegation](https://go.microsoft.com/fwlink/?LinkId=166682) (https://go.microsoft.com/fwlink/?LinkId=166682).</span></span>

### <span data-ttu-id="e2ccd-138">使用 Setup.msi 将客户端安装或升级到 app-v 4.5 SP2 的指南</span><span class="sxs-lookup"><span data-stu-id="e2ccd-138">Guidance for installing or upgrading clients to App-V4.5 SP2 by using Setup.msi</span></span>

<span data-ttu-id="e2ccd-139">在使用 Setup.msi 将 app-v 客户端安装或升级到 app-v 4.5 SP2 时，不会自动安装先决条件。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-139">When installing or upgrading your App-V Clients to App-V 4.5 SP2 by using Setup.msi, the prerequisites are not installed automatically.</span></span>

<span data-ttu-id="e2ccd-140">WORKAROUNDYou 必须先手动安装先决条件，然后再将 App-v 客户端安装或升级到 app-v 4.5 SP2。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-140">WORKAROUNDYou must manually install the prerequisites before installing or upgrading the App-V Clients to App-V 4.5SP2.</span></span> <span data-ttu-id="e2ccd-141">有关如何安装先决条件和 App-v 客户端的详细过程，请参阅[如何使用命令行（）安装客户端](https://go.microsoft.com/fwlink/?LinkId=144106) https://go.microsoft.com/fwlink/?LinkId=144106) 。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-141">For detailed procedures about how to install the prerequisites and the App-V Client, see [How to Install the Client by Using the Command Line](https://go.microsoft.com/fwlink/?LinkId=144106) (https://go.microsoft.com/fwlink/?LinkId=144106).</span></span>

<span data-ttu-id="e2ccd-142">完成此操作后，使用具有管理凭据的 Setup.msi 安装 app-v 4.5 SP2 客户端。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-142">When this has been completed, install the App-V 4.5 SP2 Clients by using Setup.msi with administrative credentials.</span></span> <span data-ttu-id="e2ccd-143">此文件可在 Installers\\Client 文件夹中的 App-v 4.5 SP2 release 媒体上使用。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-143">This file is available on the App-V 4.5 SP2 release media in the Installers\\Client folder.</span></span>

<span data-ttu-id="e2ccd-144">安装 Microsoft 应用程序错误报告时，如果你要安装或升级到 app-v 4.5 SP2 桌面客户端，请使用以下命令：</span><span class="sxs-lookup"><span data-stu-id="e2ccd-144">When installing Microsoft Application Error Reporting, use the following command if you are installing or upgrading to the App-V 4.5 SP2 Desktop Client:</span></span>

**<span data-ttu-id="e2ccd-145">msiexec/i dw20shared.msi APPGUID = {C6FC75B9-7D86-4C44-8BDB-EAFE1F0E200D} allusers = 1 重新启动 = 取消重新安装 = all REINSTALLMODE = vomus</span><span class="sxs-lookup"><span data-stu-id="e2ccd-145">msiexec /i dw20shared.msi APPGUID={C6FC75B9-7D86-4C44-8BDB-EAFE1F0E200D} allusers=1 reboot=suppress REINSTALL=all REINSTALLMODE=vomus</span></span>**

<span data-ttu-id="e2ccd-146">或者，如果你要为远程桌面服务（以前称为终端服务）安装或升级到 app-v 4.5 SP2 客户端，请使用以下命令：</span><span class="sxs-lookup"><span data-stu-id="e2ccd-146">Alternatively, if you are installing or upgrading to the App-V 4.5 SP2 Client for Remote Desktop Services (formerly Terminal Services), use the following command:</span></span>

**<span data-ttu-id="e2ccd-147">msiexec/i dw20shared.msi APPGUID = {ECF80BBA-CA07-4A74-9ED6-E064F38AF1F5} allusers = 1 重新启动 = 取消重新安装 = all REINSTALLMODE = vomus</span><span class="sxs-lookup"><span data-stu-id="e2ccd-147">msiexec /i dw20shared.msi APPGUID={ECF80BBA-CA07-4A74-9ED6-E064F38AF1F5} allusers=1 reboot=suppress REINSTALL=all REINSTALLMODE=vomus</span></span>**

**<span data-ttu-id="e2ccd-148">注意</span><span class="sxs-lookup"><span data-stu-id="e2ccd-148">Note</span></span>**  
-   <span data-ttu-id="e2ccd-149">APPGUID 参数引用你安装或升级的 app-v 客户端的产品代码。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-149">The APPGUID parameter references the product code of the App-V Clients that you install or upgrade.</span></span> <span data-ttu-id="e2ccd-150">产品代码对于每个 Setup.msi 都是唯一的。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-150">The product code is unique for each Setup.msi.</span></span> <span data-ttu-id="e2ccd-151">你可以使用 Orca 数据库编辑器或类似工具检查 Windows Installer 文件并确定产品代码。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-151">You can use the Orca Database Editor or a similar tool to examine Windows Installer files and determine the product code.</span></span> <span data-ttu-id="e2ccd-152">对于 App-v 4.5 SP2 的所有安装或升级，都需要执行此步骤。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-152">This step is required for all installations or upgrades to App-V 4.5 SP2.</span></span>

-   <span data-ttu-id="e2ccd-153">如果你要升级并安装了以前安装的 Dw20shared.msi，则不需要执行此步骤。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-153">This step is not required if you are upgrading and have previously installed Dw20shared.msi.</span></span>

 

### <span data-ttu-id="e2ccd-154">在序列化 .NET Framework 时提高性能</span><span class="sxs-lookup"><span data-stu-id="e2ccd-154">Improving performance when sequencing the .NET Framework</span></span>

<span data-ttu-id="e2ccd-155">对 Microsoft .NET Framework 进行排序时，你可能会遇到性能降低的系统性能，因为 .NET Framework NGEN 服务尝试将程序集作为后台任务进行预编译。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-155">When sequencing the Microsoft .NET Framework, you might experience reduced system performance because the .NET Framework NGEN service attempts to precompile assemblies as a background task.</span></span>

<span data-ttu-id="e2ccd-156">WORKAROUNDWhen 序列化 .NET Framework 后，在完成监视阶段后禁用 .NET Framework NGEN 服务（Mscorsvw.exe）。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-156">WORKAROUNDWhen sequencing the .NET Framework, disable the .NET Framework NGEN service (Mscorsvw.exe) after completing the monitoring phase.</span></span> <span data-ttu-id="e2ccd-157">你必须使用 App-v Sequencer 中的 "**虚拟服务**" 选项卡，并将启动类型更改为 "**已禁用**"。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-157">You must use the **Virtual Services** tab in the App-V Sequencer and change the startup type to **Disabled**.</span></span>

### <span data-ttu-id="e2ccd-158">卸载 Microsoft Application Virtualization 客户端时，将删除与执行卸载的用户相关联的用户设置</span><span class="sxs-lookup"><span data-stu-id="e2ccd-158">When you uninstall the Microsoft Application Virtualization Client, user settings associated with the user performing the uninstallation are deleted</span></span>

<span data-ttu-id="e2ccd-159">卸载 app-v 客户端时，Windows Installer 将从当前用户的配置文件中删除应用程序虚拟化设置。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-159">When you uninstall the App-V Client, the Windows Installer removes Application Virtualization settings from the current user's profile.</span></span> <span data-ttu-id="e2ccd-160">如果你的计算机使用漫游配置文件，请不要使用你的个人网络帐户卸载客户端，因为它将删除你的所有计算机上的虚拟应用程序的设置。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-160">If your computer uses roaming profiles, do not use your personal network account to uninstall the client because it will remove settings for your virtual applications on all of your computers.</span></span>

<span data-ttu-id="e2ccd-161">WORKAROUNDYou 必须使用不用于运行虚拟应用程序的管理帐户卸载 app-v 客户端。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-161">WORKAROUNDYou must uninstall the App-V Client with an administrative account that is not used for running virtual applications.</span></span>

### <span data-ttu-id="e2ccd-162">在运行顺序向导时必须保存在虚拟文件系统和虚拟注册表选项卡上所做的编辑</span><span class="sxs-lookup"><span data-stu-id="e2ccd-162">Edits made on the virtual file system and virtual registry tabs must be saved while running the Sequencing wizard</span></span>

<span data-ttu-id="e2ccd-163">如果打开程序包以执行升级，或者如果已使用新程序包运行顺序向导，并且在虚拟文件系统或虚拟注册表选项卡中对程序包进行了更改，这些更改不会自动保存。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-163">If you open a package to perform an upgrade, or if you have already run the Sequencing wizard with a new package and make changes to the package in the virtual file system or virtual registry tabs, those changes are not automatically saved.</span></span>

<span data-ttu-id="e2ccd-164">在重新运行向导之前 WORKAROUNDSave 更改，以确保它们反映在向导的虚拟环境中。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-164">WORKAROUNDSave the changes before re-running the wizard, to ensure that they are reflected inside the wizard’s virtual environment.</span></span>

### <span data-ttu-id="e2ccd-165">必须从提升的命令提示符运行命令行排序器</span><span class="sxs-lookup"><span data-stu-id="e2ccd-165">Command-line Sequencer must be run from an elevated command prompt</span></span>

<span data-ttu-id="e2ccd-166">使用命令行排序器时，它不会提示提升。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-166">When you use the command-line Sequencer, it does not prompt for elevation.</span></span>

<span data-ttu-id="e2ccd-167">使用提升的命令提示符 WORKAROUNDRun 命令行 Sequencer。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-167">WORKAROUNDRun the command-line Sequencer by using an elevated command prompt.</span></span>

### <span data-ttu-id="e2ccd-168">OSD 文件中的短路径变量名称可能会导致错误</span><span class="sxs-lookup"><span data-stu-id="e2ccd-168">Short path variable names in OSD files can cause errors</span></span>

<span data-ttu-id="e2ccd-169">如果收到错误 450478-1F702339-0000010B "目录名称无效" 在客户端上启动虚拟应用程序时，OSD 中的变量可能设置错误。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-169">If you receive error 450478-1F702339-0000010B "The directory name is invalid" when starting a virtual application on the client, it is possible that the variable in the OSD is set incorrectly.</span></span> <span data-ttu-id="e2ccd-170">如果应用程序的安装程序在排序期间设置短路径名，则可能会发生这种情况。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-170">This can happen if the application’s installer sets a short path name during sequencing.</span></span>

<span data-ttu-id="e2ccd-171">WORKAROUNDRemove OSD 文件中存在的任何 CSIDL 变量的尾随波形符。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-171">WORKAROUNDRemove the trailing tilde from any CSIDL variable that exists in the OSD file.</span></span>

### <a href="" id="correct-syntax-for-decodepath-parameter-for-command-line-sequencer-"></a><span data-ttu-id="e2ccd-172">命令行 Sequencer 的 DECODEPATH 参数的正确语法</span><span class="sxs-lookup"><span data-stu-id="e2ccd-172">Correct syntax for DECODEPATH parameter for command-line Sequencer</span></span>

<span data-ttu-id="e2ccd-173">在命令行 Sequencer 中，打开要升级的程序包并将其解码到 drive Q 的根时， *DECODEPATH*参数的语法不应包含尾部斜杠。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-173">In the command-line Sequencer, when opening a package for upgrade and decoding it to the root of drive Q, the syntax for the *DECODEPATH* parameter should not include a trailing slash.</span></span>

<span data-ttu-id="e2ccd-174">WORKAROUNDYou 可以使用**Q：** 而不是**Q:\\** （省略结尾的 "\" 字符）。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-174">WORKAROUNDYou can use **Q:** rather than **Q:\\** (omitting the trailing "\\" character).</span></span>

### <a href="" id="when-upgrading-app-v-4-2-packages--you-encounter-problems-caused-by-windows-installer-files-in-the-virtual-file-system-"></a><span data-ttu-id="e2ccd-175">如果 upgradingAPP-V 4.2 程序包，则会遇到 Windows Installer 文件在虚拟文件系统中导致的问题</span><span class="sxs-lookup"><span data-stu-id="e2ccd-175">When upgradingAPP-V 4.2 packages, you encounter problems caused by Windows Installer files in the Virtual File System</span></span>

<span data-ttu-id="e2ccd-176">从 APP-V 4.2 升级程序包时，你可能会遇到与应用 V 4.2 中默认包含的 Windows Installer 系统文件不匹配的问题，以及在序列化工作站上本地安装的 Windows Installer 库中。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-176">When upgrading a package from APP-V4.2, you might experience issues relating to a mismatch of Windows Installer system files that were included by default in APP-V4.2 and the Windows Installer libraries locally installed on your Sequencing workstation.</span></span> <span data-ttu-id="e2ccd-177">以下文件位于 CSIDL \ _SYSTEM \：</span><span class="sxs-lookup"><span data-stu-id="e2ccd-177">The following files are located in CSIDL\_SYSTEM\\:</span></span>

<span data-ttu-id="e2ccd-178">Cabinet.dll</span><span class="sxs-lookup"><span data-stu-id="e2ccd-178">Cabinet.dll</span></span>

<span data-ttu-id="e2ccd-179">Msi.dll</span><span class="sxs-lookup"><span data-stu-id="e2ccd-179">Msi.dll</span></span>

<span data-ttu-id="e2ccd-180">Msiexec.exe</span><span class="sxs-lookup"><span data-stu-id="e2ccd-180">Msiexec.exe</span></span>

<span data-ttu-id="e2ccd-181">Msihnd.dll</span><span class="sxs-lookup"><span data-stu-id="e2ccd-181">Msihnd.dll</span></span>

<span data-ttu-id="e2ccd-182">Msimsg.dlll</span><span class="sxs-lookup"><span data-stu-id="e2ccd-182">Msimsg.dlll</span></span>

<span data-ttu-id="e2ccd-183">从程序包中 WORKAROUNDDelete 前面的所有文件。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-183">WORKAROUNDDelete all of the preceding files from the package.</span></span> <span data-ttu-id="e2ccd-184">删除解码路径中的**VFS**选项卡上的映射以及 CSIDL \ _SYSTEM 文件夹中的实际文件。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-184">Delete the mappings on the **VFS** tab and the actual files in the CSIDL\_SYSTEM folder in your decode path.</span></span>

### <a href="" id="on-windows-xp--by-default--client-installation-logging-is-not-enabled-"></a><span data-ttu-id="e2ccd-185">在 WindowsXP 上，默认情况下，不启用客户端安装日志记录</span><span class="sxs-lookup"><span data-stu-id="e2ccd-185">On WindowsXP, by default, client installation logging is not enabled</span></span>

<span data-ttu-id="e2ccd-186">安装客户端时，若要确保捕获任何安装错误以进行故障排除，必须使用命令行启用日志记录。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-186">When installing the client, to ensure that any install errors are captured for troubleshooting, you must enable logging by using the command line.</span></span>

<span data-ttu-id="e2ccd-187">WORKAROUNDAdd 参数 */l\ \* vx！ log.txt*到命令行，如以下示例所示：</span><span class="sxs-lookup"><span data-stu-id="e2ccd-187">WORKAROUNDAdd the parameter */l\*vx! log.txt* to the command line, as shown in the following example:</span></span>

**<span data-ttu-id="e2ccd-188">setup.exe/s/v "/qn/l\ \* vx！</span><span class="sxs-lookup"><span data-stu-id="e2ccd-188">setup.exe /s /v”/qn /l\*vx!</span></span> <span data-ttu-id="e2ccd-189">log.txt "</span><span class="sxs-lookup"><span data-stu-id="e2ccd-189">log.txt”</span></span>**

**<span data-ttu-id="e2ccd-190">msiexec.exe/i setup.msi/qn/l\ \* vx！</span><span class="sxs-lookup"><span data-stu-id="e2ccd-190">msiexec.exe /i setup.msi /qn /l\*vx!</span></span> <span data-ttu-id="e2ccd-191">log.txt</span><span class="sxs-lookup"><span data-stu-id="e2ccd-191">log.txt</span></span>**

<span data-ttu-id="e2ccd-192">或者，你可以将注册表项设置为以下值：</span><span class="sxs-lookup"><span data-stu-id="e2ccd-192">Alternatively, you can set the registry key to the following value:</span></span>

**<span data-ttu-id="e2ccd-193">\ [HKEY \ _LOCAL \ _MACHINE \\SOFTWARE\\Policies\\Microsoft\\Windows\\Installer\] "日志记录" = "voicewarmupx！"</span><span class="sxs-lookup"><span data-stu-id="e2ccd-193">\[HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Windows\\Installer\] "Logging"="voicewarmupx!"</span></span>**

### <span data-ttu-id="e2ccd-194">要使 Kerberos 身份验证正常工作，必须为 IIS 注册服务主体名称（Spn）</span><span class="sxs-lookup"><span data-stu-id="e2ccd-194">For Kerberos authentication to work, Service Principal Names (SPNs) must be registered for IIS</span></span>

<span data-ttu-id="e2ccd-195">当使用 Internet Information Services （IIS） 6.0 orIIS 7.0 进行图标或 OSD 文件检索和程序包流式处理时，必须按如下所示注册 Spn：</span><span class="sxs-lookup"><span data-stu-id="e2ccd-195">When using Internet Information Services (IIS)6.0 orIIS7.0 for icon or OSD file retrieval and streaming of packages, to enable Kerberos authentication, the SPNs must be registered as follows:</span></span>

-   <span data-ttu-id="e2ccd-196">在 IIS 服务器上，使用 "SETSPN.EXE 资源工具包" 工具运行以下命令。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-196">On the IIS server, run the following commands by using the SETSPN.EXE Resource Kit tool.</span></span> <span data-ttu-id="e2ccd-197">必须使用服务器完全限定的域名（FQDN）。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-197">The server fully qualified domain name (FQDN) must be used.</span></span>

    **<span data-ttu-id="e2ccd-198">Setspn-r SOFTGRID/ &lt; 服务器 FQDN&gt;</span><span class="sxs-lookup"><span data-stu-id="e2ccd-198">Setspn -r SOFTGRID/&lt;Server FQDN&gt;</span></span>**

    **<span data-ttu-id="e2ccd-199">Setspn-r HTTP/ &lt; 服务器 FQDN&gt;</span><span class="sxs-lookup"><span data-stu-id="e2ccd-199">Setspn -r HTTP/&lt;Server FQDN&gt;</span></span>**

<span data-ttu-id="e2ccd-200">有关详细信息，请参阅[集成 Windows 身份验证（IIS 6.0）](https://go.microsoft.com/fwlink/?LinkId=131407) （ https://go.microsoft.com/fwlink/?LinkId=131407) 。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-200">For more information, see [Integrated Windows Authentication (IIS 6.0)](https://go.microsoft.com/fwlink/?LinkId=131407) (https://go.microsoft.com/fwlink/?LinkId=131407).</span></span>

### <span data-ttu-id="e2ccd-201">.NET 兼容性更改</span><span class="sxs-lookup"><span data-stu-id="e2ccd-201">.NET compatibility changes</span></span>

<span data-ttu-id="e2ccd-202">Microsoft Application Virtualization （App-v）累积 Update1 或更高版本支持对 WindowsXP SP2 或更高版本上的 .NET Framework 进行排序。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-202">Microsoft Application Virtualization (App-V) Cumulative Update1 or later supports sequencing the .NET Framework on WindowsXP SP2 or later.</span></span> <span data-ttu-id="e2ccd-203">当与 App-v 4.5 Sequencer 一起使用时，针对 SoftGrid 4.2 写入的 .NET 应用程序的排序例程可能必须更新。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-203">Sequencing routines for .NET applications that were written for SoftGrid4.2 might have to be updated when used with the App-V 4.5 Sequencer.</span></span> <span data-ttu-id="e2ccd-204">有关详细信息和解决方法，请参阅应用程序虚拟化技术[支持 Microsoft Application virtualization 4.5 （.）中支持 .net](https://go.microsoft.com/fwlink/?LinkId=123412)的应用程序虚拟化技术文章 https://go.microsoft.com/fwlink/?LinkId=123412)</span><span class="sxs-lookup"><span data-stu-id="e2ccd-204">For details and workarounds, see the Application Virtualization TechCenter article at [Support for .NET in Microsoft Application Virtualization 4.5](https://go.microsoft.com/fwlink/?LinkId=123412) (https://go.microsoft.com/fwlink/?LinkId=123412).</span></span>

### <a href="" id="after-client-upgrade-from-app-v-4-2--some-applications-are-not-shown-"></a><span data-ttu-id="e2ccd-205">从 App-v 4.2 升级客户端后，某些应用程序不会显示</span><span class="sxs-lookup"><span data-stu-id="e2ccd-205">After client upgrade from App-V4.2, some applications are not shown</span></span>

<span data-ttu-id="e2ccd-206">在日志中检查以下错误： "Application Virtualization 客户端无法解析 OSD 文件"。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-206">Check for the following error in the log: "The Application Virtualization Client could not parse the OSD file".</span></span> <span data-ttu-id="e2ccd-207">App-v 4.5 客户端筛选出包含包含空 OS 标记（ &lt; os &gt; &lt; /OS）的 OSD 文件的应用程序 &gt; 。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-207">The App-V 4.5 Client filters out applications that have an OSD file that contains an empty OS tag (&lt;OS&gt;&lt;/OS&gt;).</span></span>

<span data-ttu-id="e2ccd-208">WORKAROUNDDelete OSD 文件中的空 OS 标签。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-208">WORKAROUNDDelete the empty OS tag from the OSD file.</span></span>

### <span data-ttu-id="e2ccd-209">对于某些进程，app-v 服务器需要其防火墙中的免除</span><span class="sxs-lookup"><span data-stu-id="e2ccd-209">The App-V server requires exemptions in its firewall for certain processes</span></span>

<span data-ttu-id="e2ccd-210">为使服务器正确流出应用程序，服务器的核心进程（包括调度程序）需要通过防火墙访问。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-210">For the server to stream applications correctly, the server's core processes, including the dispatcher, require access through the firewall.</span></span>

<span data-ttu-id="e2ccd-211">以下进程的服务器防火墙中的 WORKAROUNDSet 免除： Sghwsvr.exe 和 Sghwdsptr.exe。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-211">WORKAROUNDSet exemptions in the server's firewall for the following processes: Sghwsvr.exe and Sghwdsptr.exe.</span></span> <span data-ttu-id="e2ccd-212">这适用于 App-v 管理服务器和 App-v 流式处理服务器。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-212">This applies to the App-V Management Server and App-V Streaming Server.</span></span>

### <span data-ttu-id="e2ccd-213">当服务器安装程序在静默模式下运行时，它不会正确检查 MSXML6</span><span class="sxs-lookup"><span data-stu-id="e2ccd-213">When the server installer is run in silent mode, it does not correctly check for MSXML6</span></span>

<span data-ttu-id="e2ccd-214">App-v 管理服务器依赖于 MSXML6。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-214">The App-V Management Server depends on MSXML6.</span></span> <span data-ttu-id="e2ccd-215">但是，如果你在静默模式下运行安装程序（例如，通过使用命令**msiexec-i setup.msi/qn**在尚未安装 MSXML6 的系统上），则安装程序不会检测缺少的依赖项，也不会安装。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-215">However, if you run the installer in silent mode—for example, by using the command **msiexec -i setup.msi /qn** on a system where MSXML6 is not already installed—the installer does not detect the missing dependency and installs anyway.</span></span> <span data-ttu-id="e2ccd-216">因此，当客户尝试从 App-v 管理服务器刷新发布信息时，它们将收到错误。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-216">Therefore, when clients attempt to refresh publishing information from the App-V Management Server, they will get errors.</span></span>

<span data-ttu-id="e2ccd-217">WORKAROUNDVerify 在尝试安装 App-v 管理服务器的无提示安装之前，系统上已安装 MSXML6。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-217">WORKAROUNDVerify that MSXML6 is installed on the system before attempting a silent installation of the App-V Management Server.</span></span>

### <span data-ttu-id="e2ccd-218">尝试连接到应用程序虚拟化管理控制台时出现错误代码000C800</span><span class="sxs-lookup"><span data-stu-id="e2ccd-218">Error code 000C800 when attempting to connect to the Application Virtualization Management Console</span></span>

<span data-ttu-id="e2ccd-219">在应用程序的虚拟化管理员中，如果应用程序虚拟化管理员在尝试连接到 app-v 管理控制台时收到错误（错误代码：000C800），并且 Sftmmc 条目指示对 SftMgmt 的访问被拒绝。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-219">An Application Virtualization administrator who is not a local administrator on the App-V Management Web Service server receives an error (Error code: 000C800) when attempting to connect to the App-V Management Console, and the Sftmmc.log entry indicates that access to SftMgmt.udl is denied.</span></span> <span data-ttu-id="e2ccd-220">若要成功连接到 app-v 管理控制台，没有对 app-v 管理 Web 服务服务器具有本地管理员权限的管理员必须至少拥有 SftMgmt 文件的 "读取" 和 "执行" 权限。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-220">To successfully connect to the App-V Management Console, an administrator who does not have local administrator rights on the App-V Management Web Service server must have at least Read and Execute permissions to the SftMgmt.udl file.</span></span>

<span data-ttu-id="e2ccd-221">应用程序虚拟化管理员必须具有 SftMgmt 文件的读取和执行权限，%systemdrive%\\Program Files\\Microsoft System Center App Virt Management Server\\App Virt 管理服务。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-221">Application Virtualization administrators must have Read and Execute permissions to the SftMgmt.UDL file in folder %systemdrive%\\Program Files\\Microsoft System Center App Virt Management Server\\App Virt Management Service.</span></span>

### <span data-ttu-id="e2ccd-222">当与 KEEPCURRENTSETTINGS = 1 结合使用时，将忽略客户端安装程序命令行参数</span><span class="sxs-lookup"><span data-stu-id="e2ccd-222">Client installer command-line parameters are ignored when used in conjunction with KEEPCURRENTSETTINGS=1</span></span>

<span data-ttu-id="e2ccd-223">与 KEEPCURRENTSETTINGS = 1 结合使用时，将忽略以下客户端安装程序命令行参数： SWICACHESIZE、MINFREESPACEMB、ALLOWINDEPENDENTFILESTREAMING、APPLICATIONSOURCEROOT、ICONSOURCEROOT、OSDSOURCEROOT、SYSTEMEVENTLOGLEVEL、SWIGLOBALDATA、DOTIMEOUTMINUTES、SWIFSDRIVE、AUTOLOADTARGET、AUTOLOADTRIGGERS、SWIUSERDATA 和 REQUIRESECURECONNECTION。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-223">When used in conjunction with KEEPCURRENTSETTINGS=1, the following client installer command-line parameters are ignored: SWICACHESIZE, MINFREESPACEMB, ALLOWINDEPENDENTFILESTREAMING, APPLICATIONSOURCEROOT, ICONSOURCEROOT, OSDSOURCEROOT, SYSTEMEVENTLOGLEVEL, SWIGLOBALDATA, DOTIMEOUTMINUTES, SWIFSDRIVE, AUTOLOADTARGET, AUTOLOADTRIGGERS, SWIUSERDATA, and REQUIRESECURECONNECTION.</span></span>

<span data-ttu-id="e2ccd-224">WORKAROUNDIf 要保留的设置，请使用 KEEPCURRENTSETTINGS = 1，然后在部署后设置其他参数。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-224">WORKAROUNDIf you have settings you want to retain, use KEEPCURRENTSETTINGS=1, and then set the other parameters after deployment.</span></span> <span data-ttu-id="e2ccd-225">App-v ADM 模板可用于设置以下客户端设置： APPLICATIONSOURCEROOT、ICONSOURCEROOT、OSDSOURCEROOT、AUTOLOADTARGET、AUTOLOADTRIGGERS、DOTIMEOUTMINUTES 和 ALLOWINDEPENDENTFILESTREAMING。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-225">The App-V ADM Template can be used to set the following client settings: APPLICATIONSOURCEROOT, ICONSOURCEROOT, OSDSOURCEROOT, AUTOLOADTARGET, AUTOLOADTRIGGERS, DOTIMEOUTMINUTES, and ALLOWINDEPENDENTFILESTREAMING.</span></span> <span data-ttu-id="e2ccd-226">您可以从 microsoft [Application Virtualization 管理模板（ADM 模板）](https://go.microsoft.com/fwlink/?LinkId=121835)的 microsoft 下载中心下载 ADM 模板（ https://go.microsoft.com/fwlink/?LinkId=121835) 。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-226">You can download the ADM Template from the Microsoft DownLoad Center at [Microsoft Application Virtualization Administrative Template (ADM Template)](https://go.microsoft.com/fwlink/?LinkId=121835) (https://go.microsoft.com/fwlink/?LinkId=121835).</span></span>

### <span data-ttu-id="e2ccd-227">发行说明版权信息</span><span class="sxs-lookup"><span data-stu-id="e2ccd-227">Release Notes Copyright Information</span></span>

<span data-ttu-id="e2ccd-228">本文档按“原样”提供。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-228">This document is provided "as-is".</span></span> <span data-ttu-id="e2ccd-229">本文档中表达的信息和视图（包括 URL 和其他 Internet 网站引用）如有更改，恕不另行通知。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-229">Information and views expressed in this document, including URL and other Internet Web site references, may change without notice.</span></span> <span data-ttu-id="e2ccd-230">使用本文档的风险由你自己承担。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-230">You bear the risk of using it.</span></span>

<span data-ttu-id="e2ccd-231">此处描述的一些示例仅供说明，并且是虚构的。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-231">Some examples depicted herein are provided for illustration only and are fictitious.</span></span><span data-ttu-id="e2ccd-232">不打算或应该推断出真正的关联或连接。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-232"> No real association or connection is intended or should be inferred.</span></span>

<span data-ttu-id="e2ccd-233">本文档未向你提供针对任何 Microsoft 产品的任何知识产权的任何法律权限。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-233">This document does not provide you with any legal rights to any intellectual property in any Microsoft product.</span></span> <span data-ttu-id="e2ccd-234">可以复制本文档并将其用于进行内部参考。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-234">You may copy and use this document for your internal, reference purposes.</span></span> <span data-ttu-id="e2ccd-235">你可以出于内部参考目的修改此文档。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-235">You may modify this document for your internal, reference purposes.</span></span>



<span data-ttu-id="e2ccd-236">Microsoft、Active Directory、ActiveSync、MS-DOS、Windows、WindowsServer 和 Windows Vista 是 Microsoft 公司组的商标。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-236">Microsoft, Active Directory, ActiveSync, MS-DOS, Windows, WindowsServer, and Windows Vista are trademarks of the Microsoft group of companies.</span></span>

<span data-ttu-id="e2ccd-237">所有其他商标的所有权属于其各自所有者。</span><span class="sxs-lookup"><span data-stu-id="e2ccd-237">All other trademarks are property of their respective owners.</span></span>

 

 





