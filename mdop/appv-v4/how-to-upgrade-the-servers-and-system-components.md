---
title: 如何升级服务器和系统组件
description: 如何升级服务器和系统组件
author: dansimp
ms.assetid: 7d8374fe-5897-452e-923e-556a854b2024
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 06/16/2016
ms.openlocfilehash: 61f8742a2f5e3c17083a77b839dfbee85ea00e24
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/26/2020
ms.locfileid: "10798968"
---
# 如何升级服务器和系统组件


使用以下过程升级在所有应用程序虚拟化系统计算机上安装的软件组件。 升级后，应用程序虚拟化系统服务将在每台计算机上自动重启。

**注意**  
-   升级过程将停止所有应用程序虚拟化系统服务，从而导致系统停止服务。 在开始升级过程之前，应关闭用户会话，并且你应该停止环境中的所有应用程序虚拟化服务器服务。

-   如果你有多个服务器共享对应用程序虚拟化数据库的访问，则所有这些服务器都必须在数据库升级时脱机。 你应遵循数据库升级的正常业务做法，但强烈建议你先在测试服务器上使用数据库的备份副本测试数据库升级。 然后，你应该选择其中一个服务器进行首次升级，这将升级数据库架构。 成功升级生产数据库后，您可以升级其他服务器。

-   仅可从 Microsoft Application Virtualization （app-v）4.1 或 4.1 SP1 升级到 Microsoft Application Virtualization （app-v）4.5。 App-v 4.0 及更早版本必须先卸载或升级到4.1 或 4.1 SP1，然后再升级到 app-v 4.5。

 

**升级应用程序虚拟化系统计算机上的软件组件**

1.  导航到网络上安装程序的位置，或者从网络运行此程序，或者将其目录复制到目标计算机，然后双击 Setup.exe 文件。

2.  在安装向导的 "**欢迎**" 页面上，单击 "**下一步**"。

3.  在 "**许可协议**" 页面上，阅读 "许可协议"，选中 "**我接受许可协议中的条款**"，然后单击 "**下一步**"。

4.  当**已安装的软件**页面打开并显示已安装的应用程序虚拟化系统组件的列表和每个组件的版本时，请单击 "**下一步**"。

5.  在 "**会话丢失警告**" 页面上，阅读显示的消息，然后单击 "**下一步**"。

6.  在 "**连接到配置数据库**" 页面上，查看页面上的内容，然后单击 "**下一步**"。

7.  如果显示 "**需要数据库升级**" 页面，则需要数据库升级。 输入数据库管理凭据，然后单击 "**下一步**"。 如果此页面未显示，请跳到步骤9。

8.  在 "**备份配置数据库**" 页面上，选中相应的框以执行备份并将其导出到现有位置，然后单击 "**下一步**"。

    **重要提示** 如果你希望能够在升级失败的情况下回退到以前的版本，请确保选中 "**对配置数据库执行备份**" 框，否则将丢失配置数据。

    当您想要使用 VSS 还原数据库时，必须首先停止管理服务器上的 App-v 服务器服务。 如果有多个服务器连接到同一个数据库，则应在每个管理服务器上执行此操作。

     

9.  在第一个 "**程序包验证**" 页面上，阅读内容，然后单击 "**下一步**"。

10. 在 "第二个**程序包验证**" 页面上，你可以选择在记事本窗口中显示程序包验证的详细信息。 若要查看详细信息，请单击 "**详细信息**";否则，单击 "**下一步**"。

11. 在 "**准备好升级程序"** 页面上，单击 "**下一步**"。

12. 在 "**安装向导已完成**" 页面上，单击 "**完成**"。

13. 在安装了应用程序虚拟化管理控制台或应用程序虚拟化服务器软件组件的所有其他计算机上重复步骤1至12。

    升级数据存储区后，您可以恢复正常操作。 （升级任何服务器或 App-v 管理 Web 服务时，将升级数据存储。）

## 相关主题


[Application Virtualization 部署和升级注意事项](application-virtualization-deployment-and-upgrade-considerations.md)

 

 





