---
title: 如何修改现有的虚拟应用程序包
description: 如何修改现有的虚拟应用程序包
author: dansimp
ms.assetid: 86b0fe21-52b0-4a9c-9a66-c78935fe74f1
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 11/01/2016
ms.openlocfilehash: 55fbaaa1f3bf4f406d813215146c58e7da2bfe59
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/26/2020
ms.locfileid: "10798399"
---
# 如何修改现有的虚拟应用程序包


本主题介绍了如何：

-   [更新现有虚拟应用程序包中的应用程序](#bkmk-update-app-in-pkg)

-   [修改与现有虚拟应用程序包相关联的属性](#bkmk-chg-props-in-pkg)

-   [将新应用程序添加到现有虚拟应用程序包](#bkmk-add-app-to-pkg)

**更新程序包之前：**

-   确保已安装了 Microsoft Application Virtualization （App-v） Sequencer，这是修改虚拟应用程序包所必需的。 若要安装 app-v 排序器，请参阅[如何安装 Sequencer](how-to-install-the-sequencer-beta-gb18030.md)。

-   在安全位置保存 appv 文件，并在尝试打开要编辑的程序包之前始终信任源。

-   更新程序包时，从部署配置文件中错误地删除了 "管理机构" 部分。 开始更新之前，从现有部署配置文件复制管理机构部分，然后在转换完成后将复制的分区粘贴到新的配置文件中。

-   如果在 Sequencer 中单击 "**修改现有虚拟应用程序包**" 以编辑程序包，但随后不进行任何更改并关闭程序包，则会更改程序包的流行为。 将从 StreamMap.xml 文件中删除主功能块，并删除发布功能块中列出的所有文件。 接收已编辑的程序包体验的用户，无论原始程序包的配置如何，这些程序包都将打包为流出故障。

<a href="" id="bkmk-update-app-in-pkg"></a>**更新现有虚拟应用程序包中的应用程序**

1.  在运行 sequencer 的计算机上，单击 "**所有程序**"，指向 " **microsoft application virtualization**"，然后单击 " **microsoft application Virtualization sequencer**"。

2.  在 app-v 排序器中，单击 "**修改现有虚拟应用程序包**" &gt; **下一步**。

3.  在 "**选择任务**" 页面上，单击 "**在现有程序包中更新应用程序**" &gt; **下一步**。

4.  在 "**选择程序包**" 页面上，单击 "**浏览**" 以找到包含要更新的应用程序的虚拟应用程序包，然后单击 "**下一步**"。

5.  在 "**准备计算机**" 页面上，查看可能导致应用更新失败的问题或导致更新后的应用程序包含不必要的数据。 继续之前，请先解决所有潜在问题。 在进行更正并解决所有潜在问题后，单击 "**刷新** &gt; **下一个**"。

    **重要提示** 如果需要禁用病毒扫描软件，请首先扫描运行 sequencer 的计算机，以确保不会向程序包添加不需要的或恶意的文件。

6.  在 "**选择安装程序**" 页面上，单击 "**浏览**" 并指定应用程序的更新安装文件。 如果更新没有关联的安装程序文件，并且你计划手动运行所有安装步骤，请选中 "**选择此选项以执行自定义安装**" 复选框，然后单击 "**下一步**"。

7.  在 "**安装**" 页面上，当 sequencer 和应用程序安装准备就绪时，可以继续安装应用程序更新，以便 sequencer 可以监视安装过程。 如果必须在安装过程中运行其他安装文件，请单击 "**运行**"，然后找到并运行其他安装文件。 完成安装后，请选择 "**我已完成安装**"。 单击“下一步”****。

    **注意** 排序器监视运行 sequencer 的计算机上发生的所有更改和安装。 这包括在顺序向导之外执行的任何更改和安装。

8.  在 "**安装报告**" 页面上，您可以查看有关已更新的虚拟应用程序的信息。 在 "**其他信息**" 中，双击事件以获取更详细的信息。 若要继续，请单击 "**下一步**"。

9.  在 "**流**" 页面上，运行每个程序，以便可以在目标计算机上对其进行优化和更高效地运行。 运行所有应用程序可能需要几分钟的时间。 在所有应用程序运行后，关闭每个应用程序，然后单击 "**下一步**"。

    **注意** 在此步骤中，你可以停止应用程序的加载。 在 "**应用程序启动**" 对话框中，单击 "**停止**"，然后选择 "**停止所有应用程序**" 或 "**仅停止此应用程序**"。

10. 在 "**创建程序包**" 页面上，若要在不保存的情况下修改程序包，请选中 "**继续使用程序包编辑器修改包而不**保存" 复选框。 选择此选项时，程序包将在 App-v Sequencer 控制台中打开，在此情况下，你可以在保存包之前对其进行修改。 单击“下一步”****。

    若要立即保存程序包，请选中 "**立即保存程序包**" 默认值。 添加可选**注释**以与程序包关联。 批注有助于标识应用程序版本并提供有关程序包的其他信息。 还会显示默认**保存位置**。 若要更改默认位置，请单击 "**浏览**" 并指定新位置。 单击“创建”****。

11. 在**完成**页上，单击 "**关闭**" 以关闭向导。 程序包现在在 sequencer 中可用。

<a href="" id="bkmk-chg-props-in-pkg"></a>**修改与现有虚拟应用程序包相关联的属性**

1.  在运行 sequencer 的计算机上，单击 "**所有程序**"，指向 " **microsoft application virtualization**"，然后单击 " **microsoft application Virtualization sequencer**"。

2.  在 app-v 排序器中，单击 "**修改现有虚拟应用程序包**" &gt; **下一步**。

3.  在 "**选择任务**" 页面上，单击 " **Edit Package** &gt; **下一步**编辑包"。

4.  在 "**选择程序包**" 页面上，单击 "**浏览**" 以找到包含要修改的应用程序属性的虚拟应用程序包，然后单击 "**编辑**"。

5.  在 App-v Sequencer 控制台中，根据需要执行以下任何任务：

    -   查看程序包属性。

    -   查看关联的程序包文件。

    -   编辑注册表设置。

    -   查看其他程序包设置（操作系统文件属性除外）。

    -   设置虚拟化注册表项状态（替代或合并）。

    -   设置虚拟化文件夹状态。

    -   添加或编辑快捷方式和文件类型关联。

        **注意** 若要编辑快捷方式或文件类型关联，必须首先打开要升级的程序包以添加新应用程序，然后转到最后一个编辑页面。

6.  完成更改程序包属性后，单击 "**文件** &gt; **保存**" 以保存程序包。

<a href="" id="bkmk-add-app-to-pkg"></a>**将新应用程序添加到现有虚拟应用程序包**

1.  在运行 sequencer 的计算机上，单击 "**所有程序**"，指向 " **microsoft application virtualization**"，然后单击 " **microsoft application Virtualization sequencer**"。

2.  在 app-v 排序器中，单击 "**修改现有虚拟应用程序包**" &gt; **下一步**。

3.  在 "**选择任务**" 页面上，单击 "下一步**添加新应用程序**" &gt; **Next**。

4.  在 "**选择程序包**" 页面上，单击 "**浏览**" 以找到将向其添加应用程序的虚拟应用程序包，然后单击 "**下一步**"。

5.  在 "**准备计算机**" 页面上，查看可能导致程序包创建失败的问题，或导致修改后的程序包包含不必要的数据。 继续之前，请先解决所有潜在问题。 在进行更正并解决所有潜在问题后，单击 "**刷新** &gt; **下一个**"。

    **重要提示** 如果需要禁用病毒扫描软件，请首先扫描运行 sequencer 的计算机，以确保不会向程序包添加不需要的或恶意的文件。

6.  在 "**选择安装程序**" 页面上，单击 "**浏览**" 并指定应用程序的安装文件。 如果应用程序没有关联的安装程序文件，并且你计划手动运行所有安装步骤，请选中 "**选择此选项以执行自定义安装**" 复选框，然后单击 "**下一步**"。

7.  在 "**安装**" 页面上，当 sequencer 和应用程序安装准备就绪时，请安装该应用程序，以便排序器可以监视安装过程。 如果必须在安装过程中运行其他安装文件，请单击 "**运行**"，然后找到并运行其他安装文件。 完成安装后，请选择 "**我已完成安装** &gt; **下一步**"。 在 "**浏览文件夹**" 对话框中，指定将安装应用程序的主目录。 确保这是一个新位置，以便你不会覆盖虚拟应用程序包的现有版本。

    **注意** 排序器监视运行 sequencer 的计算机上发生的所有更改和安装。 这包括在顺序向导之外执行的任何更改和安装。

8.  在 "**配置软件**" 页面上，选择运行程序包中包含的程序。 此步骤先完成运行应用程序所需的任何相关许可证或配置任务，然后再在目标计算机上部署和运行程序包。 若要同时运行所有程序，请至少选择一个程序，然后单击 "**全部运行**"。 若要运行特定程序，请选择要运行的一个或一些程序，然后单击 "**运行所选**"。 完成所需的配置任务，然后关闭应用程序。 运行所有程序可能需要几分钟的时间。 单击“下一步”****。

9.  在 "**安装报告**" 页面上，您可以查看有关已更新的虚拟应用程序的信息。 在 "**其他信息**" 中，双击事件以获取更详细的信息，然后单击 "**下一步**" 以打开 "**自定义**" 页面。

10. 如果已完成安装和配置虚拟应用程序，请选择 "**立即停止**"，然后跳到此过程中的步骤13。 如果您想要执行以下描述的自定义操作，请单击 "**自定义**"。

    如果要自定义，请准备虚拟程序包以进行流式处理，然后单击 "**下一步**"。 流改进了在目标计算机上运行虚拟应用程序包时的体验。

11. 在 "**流**" 页面上，运行每个程序，以便可以在目标计算机上对其进行优化和更高效地运行。 运行所有应用程序可能需要几分钟的时间。 在所有应用程序运行后，关闭每个应用程序，然后单击 "**下一步**"。

    **注意** 在此步骤中，你可以停止应用程序的加载。 在 "**应用程序启动**" 对话框中，单击 "**停止**"，然后选择 "**停止所有应用程序**" 或 "**仅停止此应用程序**"。

12. 在 "**创建程序包**" 页面上，若要在不保存的情况下修改程序包，请选中 "**继续使用程序包编辑器修改程序包而不保存**" 复选框。 选择此选项将在 App-v Sequencer 控制台中打开包，在此情况下，你可以在保存包之前对其进行修改。 单击“下一步”****。

    若要立即保存程序包，请选中 "**立即保存程序包**" 默认值。 添加可选**注释**以与程序包关联。 批注对于提供有关程序包的应用程序版本和其他信息非常有用。 还会显示默认**保存位置**。 若要更改默认位置，请单击 "**浏览**" 并指定新位置。 将显示未压缩的程序包大小。 单击“创建”****。

13. 在**完成**页上，单击**关闭**。 程序包现在在 sequencer 中可用。

    已**获得有关 app-v 的建议**？ 在[此处](http://appv.uservoice.com/forums/280448-microsoft-application-virtualization)添加或投票建议。 **遇到了 app-v 问题？** 使用 app-v [TechNet 论坛](https://social.technet.microsoft.com/Forums/home?forum=mdopappv)。

## 相关主题

[App-V 5.0 的操作](operations-for-app-v-50.md)

 

 





