---
title: 关于 App-V 5.0 动态配置
description: 关于 App-V 5.0 动态配置
author: dansimp
ms.assetid: 88afaca1-68c5-45c4-a074-9371c56b5804
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 06/16/2016
ms.openlocfilehash: 0294a60570d6dea99193c8bd411639c4888ae6b1
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/26/2020
ms.locfileid: "10798690"
---
# <span data-ttu-id="e3fed-103">关于 App-V 5.0 动态配置</span><span class="sxs-lookup"><span data-stu-id="e3fed-103">About App-V 5.0 Dynamic Configuration</span></span>


<span data-ttu-id="e3fed-104">你可以使用动态配置为用户自定义 app-v 5.0 程序包。</span><span class="sxs-lookup"><span data-stu-id="e3fed-104">You can use the dynamic configuration to customize an App-V 5.0 package for a user.</span></span> <span data-ttu-id="e3fed-105">使用以下信息创建或编辑现有动态配置文件。</span><span class="sxs-lookup"><span data-stu-id="e3fed-105">Use the following information to create or edit an existing dynamic configuration file.</span></span>

<span data-ttu-id="e3fed-106">当您编辑动态配置文件时，它将自定义如何为用户或组运行 app-v 5.0 程序包。</span><span class="sxs-lookup"><span data-stu-id="e3fed-106">When you edit the dynamic configuration file it customizes how an App-V 5.0 package will run for a user or group.</span></span> <span data-ttu-id="e3fed-107">这有助于通过删除使用所需设置重新序列化程序包的需要，为程序包自定义提供一种更方便的方法，并提供了一种独立于程序包内容和自定义设置的方式。</span><span class="sxs-lookup"><span data-stu-id="e3fed-107">This helps to provide a more convenient method for package customization by removing the need to re-sequence packages using the desired settings, and provides a way to keep package content and custom settings independent.</span></span>

## <span data-ttu-id="e3fed-108">高级：动态配置</span><span class="sxs-lookup"><span data-stu-id="e3fed-108">Advanced: Dynamic Configuration</span></span>


<span data-ttu-id="e3fed-109">虚拟应用程序包包含提供程序包的所有核心信息的清单。</span><span class="sxs-lookup"><span data-stu-id="e3fed-109">Virtual application packages contain a manifest that provides all the core information for the package.</span></span> <span data-ttu-id="e3fed-110">此信息包括程序包设置的默认设置，并确定最基本形式的设置（无需其他自定义）。</span><span class="sxs-lookup"><span data-stu-id="e3fed-110">This information includes the defaults for the package settings and determines settings in the most basic form (with no additional customization).</span></span> <span data-ttu-id="e3fed-111">如果要为特定用户或组调整这些默认值，可以创建和编辑以下文件：</span><span class="sxs-lookup"><span data-stu-id="e3fed-111">If you want to adjust these defaults for a particular user or group, you can create and edit the following files:</span></span>

-   <span data-ttu-id="e3fed-112">用户配置文件</span><span class="sxs-lookup"><span data-stu-id="e3fed-112">User Configuration file</span></span>

-   <span data-ttu-id="e3fed-113">部署配置文件</span><span class="sxs-lookup"><span data-stu-id="e3fed-113">Deployment configuration file</span></span>

<span data-ttu-id="e3fed-114">以前的 .xml 文件指定程序包设置，并允许在不直接影响程序包的情况下自定义程序包。</span><span class="sxs-lookup"><span data-stu-id="e3fed-114">The previous .xml files specify package settings and allow for packages to be customized without directly affecting the packages.</span></span> <span data-ttu-id="e3fed-115">创建程序包时，sequencer 将使用程序包清单数据自动生成默认部署和用户配置 .xml 文件。</span><span class="sxs-lookup"><span data-stu-id="e3fed-115">When a package is created, the sequencer automatically generates default deployment and user configuration .xml files using the package manifest data.</span></span> <span data-ttu-id="e3fed-116">因此，这些自动生成的配置文件仅反映程序包 innately 在排序期间配置的默认设置。</span><span class="sxs-lookup"><span data-stu-id="e3fed-116">Therefore, these automatically generated configuration files simply reflect the default settings that the package innately as from how things were configured during sequencing.</span></span> <span data-ttu-id="e3fed-117">如果将这些配置文件应用到由排序器生成的窗体中的程序包，则这些程序包将具有与它们的清单中的默认设置相同的默认设置。</span><span class="sxs-lookup"><span data-stu-id="e3fed-117">If you apply these configuration files to a package in the form generated by the sequencer, the packages will have the same default settings that came from their manifest.</span></span> <span data-ttu-id="e3fed-118">这将为你提供一个特定于程序包的模板，以便在必须更改任何默认值时开始使用。</span><span class="sxs-lookup"><span data-stu-id="e3fed-118">This provides you with a package-specific template to get started if any of the defaults must be changed.</span></span>

<span data-ttu-id="e3fed-119">**注意** 以下信息仅可用于修改 sequencer 生成的配置文件，以自定义程序包以满足特定的用户或组要求。</span><span class="sxs-lookup"><span data-stu-id="e3fed-119">**Note** The following information can only be used to modify sequencer generated configuration files to customize packages to meet specific user or group requirements.</span></span>

 

### <span data-ttu-id="e3fed-120">动态配置文件内容</span><span class="sxs-lookup"><span data-stu-id="e3fed-120">Dynamic Configuration file contents</span></span>

<span data-ttu-id="e3fed-121">配置文件中的所有添加、删除和更新都需要与包的清单信息所指定的默认值相关。</span><span class="sxs-lookup"><span data-stu-id="e3fed-121">All of the additions, deletions, and updates in the configuration files need to be made in relation to the default values specified by the package's manifest information.</span></span> <span data-ttu-id="e3fed-122">查看下表：</span><span class="sxs-lookup"><span data-stu-id="e3fed-122">Review the following table:</span></span>

<table>
<colgroup>
<col width="100%" />
</colgroup>
<tbody>
<tr class="odd">
<td align="left"><p><span data-ttu-id="e3fed-123">用户配置 .xml 文件</span><span class="sxs-lookup"><span data-stu-id="e3fed-123">User Configuration .xml file</span></span></p></td>
</tr>
<tr class="even">
<td align="left"><p><span data-ttu-id="e3fed-124">部署配置 .xml 文件</span><span class="sxs-lookup"><span data-stu-id="e3fed-124">Deployment Configuration .xml file</span></span></p></td>
</tr>
<tr class="odd">
<td align="left"><p><span data-ttu-id="e3fed-125">程序包清单</span><span class="sxs-lookup"><span data-stu-id="e3fed-125">Package Manifest</span></span></p></td>
</tr>
</tbody>
</table>

 

<span data-ttu-id="e3fed-126">上表表示文件的读取方式。</span><span class="sxs-lookup"><span data-stu-id="e3fed-126">The previous table represents how the files will be read.</span></span> <span data-ttu-id="e3fed-127">第一项表示将最后阅读的内容，因此其内容优先。</span><span class="sxs-lookup"><span data-stu-id="e3fed-127">The first entry represents what will be read last, therefore, its content takes precedence.</span></span> <span data-ttu-id="e3fed-128">因此，所有程序包本身都包含和提供程序包清单中的默认设置。</span><span class="sxs-lookup"><span data-stu-id="e3fed-128">Therefore, all packages inherently contain and provide default settings from the package manifest.</span></span> <span data-ttu-id="e3fed-129">如果应用了具有自定义设置的部署配置 .xml 文件，它将替代程序包清单默认值。</span><span class="sxs-lookup"><span data-stu-id="e3fed-129">If a deployment configuration .xml file with customized settings is applied, it will override the package manifest defaults.</span></span> <span data-ttu-id="e3fed-130">如果先应用带有自定义设置的用户配置 .xml 文件，它将覆盖部署配置和程序包清单默认值。</span><span class="sxs-lookup"><span data-stu-id="e3fed-130">If a user configuration .xml file with customized settings is applied prior to that, it will override both the deployment configuration and the package manifest defaults.</span></span>

<span data-ttu-id="e3fed-131">以下列表显示了有关两种文件类型的详细信息：</span><span class="sxs-lookup"><span data-stu-id="e3fed-131">The following list displays more information about the two file types:</span></span>

-   <span data-ttu-id="e3fed-132">**用户配置文件（UserConfig）** -允许你指定或修改程序包的自定义设置。</span><span class="sxs-lookup"><span data-stu-id="e3fed-132">**User Configuration File (UserConfig)** – Allows you to specify or modify custom settings for a package.</span></span> <span data-ttu-id="e3fed-133">当程序包部署到运行 App-v 5.0 客户端的计算机时，这些设置将应用于特定用户。</span><span class="sxs-lookup"><span data-stu-id="e3fed-133">These settings will be applied for a specific user when the package is deployed to a computer running the App-V 5.0 client.</span></span>

-   <span data-ttu-id="e3fed-134">**部署配置文件（DeploymentConfig）** -允许你指定或修改程序包的默认设置。</span><span class="sxs-lookup"><span data-stu-id="e3fed-134">**Deployment Configuration File (DeploymentConfig)** – Allows you to specify or modify the default settings for a package.</span></span> <span data-ttu-id="e3fed-135">当程序包部署到运行 App-v 5.0 客户端的计算机时，这些设置将应用于所有用户。</span><span class="sxs-lookup"><span data-stu-id="e3fed-135">These settings will be applied for all users when a package is deployed to a computer running the App-V 5.0 client.</span></span>

<span data-ttu-id="e3fed-136">若要为计算机上的一组特定用户自定义程序包的设置，或进行将应用于本地用户位置（如 HKCU）的更改，应使用 UserConfig 文件。</span><span class="sxs-lookup"><span data-stu-id="e3fed-136">To customize the settings for a package for a specific set of users on a computer or to make changes that will be applied to local user locations such as HKCU, the UserConfig file should be used.</span></span> <span data-ttu-id="e3fed-137">若要修改计算机上所有用户的程序包的默认设置，或执行将应用到全局位置（如 HKEY \ _LOCAL \ _MACHINE 和 "所有用户" 文件夹）的更改，请使用 DeploymentConfig 文件。</span><span class="sxs-lookup"><span data-stu-id="e3fed-137">To modify the default settings of a package for all users on a machine or to make changes that will be applied to global locations such as HKEY\_LOCAL\_MACHINE and the all users folder, the DeploymentConfig file should be used.</span></span>

<span data-ttu-id="e3fed-138">UserConfig 文件提供的配置设置可应用于单个用户，而不会影响客户端上的任何其他用户：</span><span class="sxs-lookup"><span data-stu-id="e3fed-138">The UserConfig file provides configuration settings that can be applied to a single user without affecting any other users on a client:</span></span>

-   <span data-ttu-id="e3fed-139">每个用户将集成到本机系统中的扩展：-快捷方式、文件类型关联、URL 协议、AppPaths、软件客户端和 COM</span><span class="sxs-lookup"><span data-stu-id="e3fed-139">Extensions that will be integrated into the native system per user:- shortcuts, File-Type associations, URL Protocols, AppPaths, Software Clients and COM</span></span>

-   <span data-ttu-id="e3fed-140">虚拟子系统：-应用程序对象、环境变量、注册表修改、服务和字体</span><span class="sxs-lookup"><span data-stu-id="e3fed-140">Virtual Subsystems:- Application Objects, Environment variables, Registry modifications, Services and Fonts</span></span>

-   <span data-ttu-id="e3fed-141">脚本（仅限用户上下文）</span><span class="sxs-lookup"><span data-stu-id="e3fed-141">Scripts (User context only)</span></span>

-   <span data-ttu-id="e3fed-142">管理机构（用于控制带有 App-v 4.6 的程序包的共同存在）</span><span class="sxs-lookup"><span data-stu-id="e3fed-142">Managing Authority (for controlling co-existence of package with App-V 4.6)</span></span>

<span data-ttu-id="e3fed-143">DeploymentConfig 文件提供两个部分中的配置设置，一个相对于计算机上下文，另一个相对于用户上下文，它提供了上述 UserConfig 列表中列出的相同功能：</span><span class="sxs-lookup"><span data-stu-id="e3fed-143">The DeploymentConfig file provides configuration settings in two sections, one relative to the machine context and one relative to the user context providing the same capabilities listed in the UserConfig list above:</span></span>

-   <span data-ttu-id="e3fed-144">所有 UserConfig 设置</span><span class="sxs-lookup"><span data-stu-id="e3fed-144">All UserConfig settings above</span></span>

-   <span data-ttu-id="e3fed-145">只能为所有用户全局应用的扩展</span><span class="sxs-lookup"><span data-stu-id="e3fed-145">Extensions that can only be applied globally for all users</span></span>

-   <span data-ttu-id="e3fed-146">可针对全局计算机位置进行配置的虚拟子系统，例如注册表</span><span class="sxs-lookup"><span data-stu-id="e3fed-146">Virtual Subsystems that can be configured for global machine locations e.g. registry</span></span>

-   <span data-ttu-id="e3fed-147">产品源 URL</span><span class="sxs-lookup"><span data-stu-id="e3fed-147">Product Source URL</span></span>

-   <span data-ttu-id="e3fed-148">脚本（仅限计算机上下文）</span><span class="sxs-lookup"><span data-stu-id="e3fed-148">Scripts (Machine context only)</span></span>

-   <span data-ttu-id="e3fed-149">用于终止子进程的控件</span><span class="sxs-lookup"><span data-stu-id="e3fed-149">Controls to Terminate Child Processes</span></span>

### <span data-ttu-id="e3fed-150">文件结构</span><span class="sxs-lookup"><span data-stu-id="e3fed-150">File structure</span></span>

<span data-ttu-id="e3fed-151">App-v 5.0 动态配置文件的结构将在下一节中介绍。</span><span class="sxs-lookup"><span data-stu-id="e3fed-151">The structure of the App-V 5.0 Dynamic Configuration file is explained in the following section.</span></span>

### <span data-ttu-id="e3fed-152">动态用户配置文件</span><span class="sxs-lookup"><span data-stu-id="e3fed-152">Dynamic User Configuration file</span></span>

<span data-ttu-id="e3fed-153">**标头**-动态用户配置文件的标题如下所示：</span><span class="sxs-lookup"><span data-stu-id="e3fed-153">**Header** - the header of a dynamic user configuration file is as follows:</span></span>

<span data-ttu-id="e3fed-154">&lt;？ xml 版本 = "1.0" 编码 = "utf-8"？ &gt; &lt;UserConfiguration **PackageId**= "1F8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName = "Reserved" xmlns = " <https://schemas.microsoft.com/appv/2010/userconfiguration"&gt> ;</span><span class="sxs-lookup"><span data-stu-id="e3fed-154">&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;UserConfiguration **PackageId**="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved" xmlns="<https://schemas.microsoft.com/appv/2010/userconfiguration"&gt>;</span></span>

<span data-ttu-id="e3fed-155">**PackageId**的值与清单文件中存在的值相同。</span><span class="sxs-lookup"><span data-stu-id="e3fed-155">The **PackageId** is the same value as exists in the Manifest file.</span></span>

<span data-ttu-id="e3fed-156">**正文**-动态用户配置文件的主体可以包含清单文件中定义的所有应用扩展点，以及用于配置虚拟应用程序的信息。</span><span class="sxs-lookup"><span data-stu-id="e3fed-156">**Body** - the body of the Dynamic User Configuration file can include all the app extension points that are defined in the Manifest file, as well as information to configure virtual applications.</span></span> <span data-ttu-id="e3fed-157">正文中允许有四个子部分：</span><span class="sxs-lookup"><span data-stu-id="e3fed-157">There are four subsections allowed in the body:</span></span>

1. <span data-ttu-id="e3fed-158">**应用程序**-程序包内的清单文件中包含的所有应用扩展都分配有一个应用程序 ID，该 ID 也是在清单文件中定义的。</span><span class="sxs-lookup"><span data-stu-id="e3fed-158">**Applications** - All app-extensions that are contained in the Manifest file within a package are assigned with an Application ID, which is also defined in the manifest file.</span></span> <span data-ttu-id="e3fed-159">这允许你启用或禁用程序包中给定应用程序的所有扩展。</span><span class="sxs-lookup"><span data-stu-id="e3fed-159">This allows you to enable or disable all the extensions for a given application within a package.</span></span> <span data-ttu-id="e3fed-160">**应用程序 ID**必须存在于清单文件中，否则将被忽略。</span><span class="sxs-lookup"><span data-stu-id="e3fed-160">The **Application ID** must exist in the Manifest file or it will be ignored.</span></span>

   <span data-ttu-id="e3fed-161">&lt;UserConfiguration **PackageId**= "1F8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName = "Reserved" xmlns = " <https://schemas.microsoft.com/appv/2010/userconfiguration"&gt> ;</span><span class="sxs-lookup"><span data-stu-id="e3fed-161">&lt;UserConfiguration **PackageId**="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved" xmlns="<https://schemas.microsoft.com/appv/2010/userconfiguration"&gt>;</span></span>

   <span data-ttu-id="e3fed-162">&lt;应用程序&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-162">&lt;Applications&gt;</span></span>

   <span data-ttu-id="e3fed-163">&lt;!--不能在策略中定义任何新应用程序。</span><span class="sxs-lookup"><span data-stu-id="e3fed-163">&lt;!-- No new application can be defined in policy.</span></span> <span data-ttu-id="e3fed-164">AppV 客户端将忽略未在清单文件中还没有的任何应用程序 ID-&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-164">AppV Client will ignore any application ID that is not also in the Manifest file --&gt;</span></span>

   <span data-ttu-id="e3fed-165">&lt;应用程序 Id = "{a56fa627-c35f-4a01-9e79-7d36aed8225a}" 已启用 = "false"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-165">&lt;Application Id="{a56fa627-c35f-4a01-9e79-7d36aed8225a}" Enabled="false"&gt;</span></span>

   <span data-ttu-id="e3fed-166">&lt;/Application&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-166">&lt;/Application&gt;</span></span>

   <span data-ttu-id="e3fed-167">&lt;/Applications&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-167">&lt;/Applications&gt;</span></span>

   <span data-ttu-id="e3fed-168">…</span><span class="sxs-lookup"><span data-stu-id="e3fed-168">…</span></span>

   <span data-ttu-id="e3fed-169">&lt;/UserConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-169">&lt;/UserConfiguration&gt;</span></span>

2. <span data-ttu-id="e3fed-170">**子系统**-AppExtensions 和其他子系统在子系统下排列为子 &lt; 节点 &gt; ：</span><span class="sxs-lookup"><span data-stu-id="e3fed-170">**Subsystems** - AppExtensions and other subsystems are arranged as subnodes under the &lt;Subsystems&gt;:</span></span>

   <span data-ttu-id="e3fed-171">&lt;UserConfiguration **PackageId**= "1F8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName = "Reserved" xmlns = " <https://schemas.microsoft.com/appv/2010/userconfiguration"&gt> ;</span><span class="sxs-lookup"><span data-stu-id="e3fed-171">&lt;UserConfiguration **PackageId**="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved" xmlns="<https://schemas.microsoft.com/appv/2010/userconfiguration"&gt>;</span></span>

   <span data-ttu-id="e3fed-172">&lt;子系统&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-172">&lt;Subsystems&gt;</span></span>

   <span data-ttu-id="e3fed-173">..</span><span class="sxs-lookup"><span data-stu-id="e3fed-173">..</span></span>

   <span data-ttu-id="e3fed-174">&lt;/Subsystems&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-174">&lt;/Subsystems&gt;</span></span>

   <span data-ttu-id="e3fed-175">..</span><span class="sxs-lookup"><span data-stu-id="e3fed-175">..</span></span>

   <span data-ttu-id="e3fed-176">&lt;/UserConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-176">&lt;/UserConfiguration&gt;</span></span>

   <span data-ttu-id="e3fed-177">可以使用 "**enabled**" 属性启用/禁用每个子系统。</span><span class="sxs-lookup"><span data-stu-id="e3fed-177">Each subsystem can be enabled/disabled using the “**Enabled**” attribute.</span></span> <span data-ttu-id="e3fed-178">下面是各种子系统和使用示例。</span><span class="sxs-lookup"><span data-stu-id="e3fed-178">Below are the various subsystems and usage samples.</span></span>

   **<span data-ttu-id="e3fed-179">扩充</span><span class="sxs-lookup"><span data-stu-id="e3fed-179">Extensions:</span></span>**

   <span data-ttu-id="e3fed-180">某些子系统（扩展子系统）控制扩展。</span><span class="sxs-lookup"><span data-stu-id="e3fed-180">Some subsystems (Extension Subsystems) control Extensions.</span></span> <span data-ttu-id="e3fed-181">这些子系统包括：-快捷方式、文件类型关联、URL 协议、AppPaths、软件客户端和 COM</span><span class="sxs-lookup"><span data-stu-id="e3fed-181">Those subsystems are:- shortcuts, File-Type associations, URL Protocols, AppPaths, Software Clients and COM</span></span>

   <span data-ttu-id="e3fed-182">可以独立于内容启用和禁用扩展子系统。</span><span class="sxs-lookup"><span data-stu-id="e3fed-182">Extension Subsystems can be enabled and disabled independently of the content.</span></span>  <span data-ttu-id="e3fed-183">因此，如果启用了快捷方式，默认情况下，客户端将使用清单中包含的快捷方式。</span><span class="sxs-lookup"><span data-stu-id="e3fed-183">Thus if Shortcuts are enabled, The client will use the shortcuts contained within the manifest by default.</span></span> <span data-ttu-id="e3fed-184">每个扩展子系统都可以包含一个 &lt; 扩展 &gt; 节点。</span><span class="sxs-lookup"><span data-stu-id="e3fed-184">Each Extension Subsystem can contain an &lt;Extensions&gt; node.</span></span> <span data-ttu-id="e3fed-185">如果此子元素存在，客户端将忽略该子系统的清单文件中的内容，并且仅使用配置文件中的内容。</span><span class="sxs-lookup"><span data-stu-id="e3fed-185">If this child element is present, the client will ignore the content in the Manifest file for that subsystem and only use the content in the configuration file.</span></span>

   <span data-ttu-id="e3fed-186">使用快捷方式子系统的示例：</span><span class="sxs-lookup"><span data-stu-id="e3fed-186">Example using the shortcuts subsystem:</span></span>

   1.  <span data-ttu-id="e3fed-187">如果用户在动态或部署配置文件中定义了此项，请执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="e3fed-187">If the user defined this in either the dynamic or deployment config file:</span></span>

                                    **&lt;Shortcuts  Enabled="true"&gt;**

                                                **&lt;Extensions&gt;**

                                                 ...

                                                **&lt;/Extensions&gt;**

                                    **&lt;/Shortcuts&gt;**

                         Content in the manifest will be ignored.   

   2.  <span data-ttu-id="e3fed-188">如果用户仅定义下列内容：</span><span class="sxs-lookup"><span data-stu-id="e3fed-188">If the user defined only the following:</span></span>

                                   **&lt;Shortcuts  Enabled="true"/&gt;**

                         Then the content in the Manifest will be integrated during publishing.

   3.  <span data-ttu-id="e3fed-189">如果用户定义了以下</span><span class="sxs-lookup"><span data-stu-id="e3fed-189">If the user defines the following</span></span>

                                  **&lt;Shortcuts  Enabled="true"&gt;**

                                                **&lt;Extensions/&gt;**

                                    **&lt;/Shortcuts&gt;**

   <span data-ttu-id="e3fed-190">然后，清单中的所有快捷方式仍将被忽略。</span><span class="sxs-lookup"><span data-stu-id="e3fed-190">Then all the shortcuts within the manifest will still be ignored.</span></span> <span data-ttu-id="e3fed-191">将不会集成任何快捷方式。</span><span class="sxs-lookup"><span data-stu-id="e3fed-191">There will be no shortcuts integrated.</span></span>

   <span data-ttu-id="e3fed-192">支持的扩展子系统有：</span><span class="sxs-lookup"><span data-stu-id="e3fed-192">The supported Extension Subsystems are:</span></span>

   <span data-ttu-id="e3fed-193">**快捷方式：** 此示例控制将集成到本地系统中的快捷方式。</span><span class="sxs-lookup"><span data-stu-id="e3fed-193">**Shortcuts:** This controls shortcuts that will be integrated into the local system.</span></span> <span data-ttu-id="e3fed-194">下面是一个包含两个快捷方式的示例：</span><span class="sxs-lookup"><span data-stu-id="e3fed-194">Below is a sample with 2 shortcuts:</span></span>

   <span data-ttu-id="e3fed-195">&lt;子系统&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-195">&lt;Subsystems&gt;</span></span>

   <span data-ttu-id="e3fed-196">&lt;已启用快捷方式 = "true"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-196">&lt;Shortcuts Enabled="true"&gt;</span></span>

     <span data-ttu-id="e3fed-197">&lt;Extensions&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-197">&lt;Extensions&gt;</span></span>

       &lt;Extension Category="AppV.Shortcut"&gt;

         &lt;Shortcut&gt;

           &lt;File&gt;\[{Common Programs}\]\\Microsoft Contoso\\Microsoft ContosoApp Filler 2010.lnk&lt;/File&gt;

           &lt;Target&gt;\[{PackageRoot}\]\\Contoso\\ContosoApp.EXE&lt;/Target&gt;

           &lt;Icon&gt;\[{Windows}\]\\Installer\\{90140000-0011-0000-0000-0000000FF1CE}\\inficon.exe&lt;/Icon&gt;

           &lt;Arguments /&gt;

           &lt;WorkingDirectory /&gt;

           &lt;AppUserModelId&gt;ContosoApp.Filler.3&lt;/AppUserModelId&gt;

           &lt;Description&gt;Fill out dynamic forms to gather and reuse information throughout the organization using Microsoft ContosoApp.&lt;/Description&gt;

           &lt;Hotkey&gt;0&lt;/Hotkey&gt;

           &lt;ShowCommand&gt;1&lt;/ShowCommand&gt;

           &lt;ApplicationId&gt;\[{PackageRoot}\]\\Contoso\\ContosoApp.EXE&lt;/ApplicationId&gt;

         &lt;/Shortcut&gt;

     <span data-ttu-id="e3fed-198">&lt;/Extension&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-198">&lt;/Extension&gt;</span></span>

     <span data-ttu-id="e3fed-199">&lt;扩展类别 = "AppV。快捷方式"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-199">&lt;Extension Category="AppV.Shortcut"&gt;</span></span>

       &lt;Shortcut&gt;

         &lt;File&gt;\[{AppData}\]\\Microsoft\\Contoso\\Recent\\Templates.LNK&lt;/File&gt;

         &lt;Target&gt;\[{AppData}\]\\Microsoft\\Templates&lt;/Target&gt;

         &lt;Icon /&gt;

         &lt;Arguments /&gt;

         &lt;WorkingDirectory /&gt;

         &lt;AppUserModelId /&gt;

         &lt;Description /&gt;

         &lt;Hotkey&gt;0&lt;/Hotkey&gt;

         &lt;ShowCommand&gt;1&lt;/ShowCommand&gt;

         &lt;!-- Note the ApplicationId is optional --&gt;

       &lt;/Shortcut&gt;

     <span data-ttu-id="e3fed-200">&lt;/Extension&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-200">&lt;/Extension&gt;</span></span>

    <span data-ttu-id="e3fed-201">&lt;/Extensions&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-201">&lt;/Extensions&gt;</span></span>

   <span data-ttu-id="e3fed-202">&lt;/Shortcuts&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-202">&lt;/Shortcuts&gt;</span></span>

   <span data-ttu-id="e3fed-203">**文件类型关联：** 将文件类型与要在默认情况下打开的程序相关联，并设置上下文菜单。</span><span class="sxs-lookup"><span data-stu-id="e3fed-203">**File-Type Associations:** Associates File-types with programs to open by default as well as setup the context menu.</span></span> <span data-ttu-id="e3fed-204">（也可以使用此 susbsystem 设置 MIME 类型）。</span><span class="sxs-lookup"><span data-stu-id="e3fed-204">(MIME types can also be setup using this susbsystem).</span></span> <span data-ttu-id="e3fed-205">示例文件类型关联如下所示：</span><span class="sxs-lookup"><span data-stu-id="e3fed-205">Sample File-type Association is below:</span></span>

   <span data-ttu-id="e3fed-206">&lt;FileTypeAssociations 启用 = "true"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-206">&lt;FileTypeAssociations Enabled="true"&gt;</span></span>

   <span data-ttu-id="e3fed-207">&lt;Extensions&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-207">&lt;Extensions&gt;</span></span>

     <span data-ttu-id="e3fed-208">&lt;扩展类别 = "FileTypeAssociation"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-208">&lt;Extension Category="AppV.FileTypeAssociation"&gt;</span></span>

       &lt;FileTypeAssociation&gt;

         &lt;FileExtension MimeAssociation="true"&gt;

         &lt;Name&gt;.docm&lt;/Name&gt;

         &lt;ProgId&gt;contosowordpad.DocumentMacroEnabled.12&lt;/ProgId&gt;

         &lt;PerceivedType&gt;document&lt;/PerceivedType&gt;

         &lt;ContentType&gt;application/vnd.ms-contosowordpad.document.macroEnabled.12&lt;/ContentType&gt;

         &lt;OpenWithList&gt;

           &lt;ApplicationName&gt;wincontosowordpad.exe&lt;/ApplicationName&gt;

         &lt;/OpenWithList&gt;

        &lt;OpenWithProgIds&gt;

           &lt;ProgId&gt;contosowordpad.8&lt;/ProgId&gt;

         &lt;/OpenWithProgIds&gt;

         &lt;ShellNew&gt;

           &lt;Command /&gt;

           &lt;DataBinary /&gt;

           &lt;DataText /&gt;

           &lt;FileName /&gt;

           &lt;NullFile&gt;true&lt;/NullFile&gt;

           &lt;ItemName /&gt;

           &lt;IconPath /&gt;

           &lt;MenuText /&gt;

           &lt;Handler /&gt;

         &lt;/ShellNew&gt;

       &lt;/FileExtension&gt;

       &lt;ProgId&gt;

          &lt;Name&gt;contosowordpad.DocumentMacroEnabled.12&lt;/Name&gt;

           &lt;DefaultIcon&gt;\[{Windows}\]\\Installer\\{90140000-0011-0000-0000-0000000FF1CE}\\contosowordpadicon.exe,15&lt;/DefaultIcon&gt;

           &lt;Description&gt;Blah Blah Blah&lt;/Description&gt;

           &lt;FriendlyTypeName&gt;\[{FOLDERID\_ProgramFilesX86}\]\\Microsoft Contoso 14\\res.dll,9182&lt;/FriendlyTypeName&gt;

           &lt;InfoTip&gt;\[{FOLDERID\_ProgramFilesX86}\]\\Microsoft Contoso 14\\res.dll,1424&lt;/InfoTip&gt;

           &lt;EditFlags&gt;0&lt;/EditFlags&gt;

           &lt;ShellCommands&gt;

             &lt;DefaultCommand&gt;Open&lt;/DefaultCommand&gt;

             &lt;ShellCommand&gt;

                &lt;ApplicationId&gt;{e56fa627-c35f-4a01-9e79-7d36aed8225a}&lt;/ApplicationId&gt;

                &lt;Name&gt;Edit&lt;/Name&gt;

                &lt;FriendlyName&gt;&Edit&lt;/FriendlyName&gt;

                &lt;CommandLine&gt;"\[{PackageRoot}\]\\Contoso\\WINcontosowordpad.EXE" /vu "%1"&lt;/CommandLine&gt;

             &lt;/ShellCommand&gt;

             &lt;/ShellCommand&gt;

               &lt;ApplicationId&gt;{e56fa627-c35f-4a01-9e79-7d36aed8225a}&lt;/ApplicationId&gt;

               &lt;Name&gt;Open&lt;/Name&gt;

               &lt;FriendlyName&gt;&Open&lt;/FriendlyName&gt;

               &lt;CommandLine&gt;"\[{PackageRoot}\]\\Contoso\\WINcontosowordpad.EXE" /n "%1"&lt;/CommandLine&gt;

               &lt;DropTargetClassId /&gt;

               &lt;DdeExec&gt;

                 &lt;Application&gt;mscontosowordpad&lt;/Application&gt;

                 &lt;Topic&gt;ShellSystem&lt;/Topic&gt;

                 &lt;IfExec&gt;\[SHELLNOOP\]&lt;/IfExec&gt;

                 &lt;DdeCommand&gt;\[SetForeground\]\[ShellNewDatabase "%1"\]&lt;/DdeCommand&gt;

               &lt;/DdeExec&gt;

             &lt;/ShellCommand&gt;

           &lt;/ShellCommands&gt;

         &lt;/ProgId&gt;

        &lt;/FileTypeAssociation&gt;

      <span data-ttu-id="e3fed-209">&lt;/Extension&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-209">&lt;/Extension&gt;</span></span>

     <span data-ttu-id="e3fed-210">&lt;/Extensions&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-210">&lt;/Extensions&gt;</span></span>

     <span data-ttu-id="e3fed-211">&lt;/FileTypeAssociations&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-211">&lt;/FileTypeAssociations&gt;</span></span>

   <span data-ttu-id="e3fed-212">**URL 协议**：这将控制与客户端计算机的本地注册表集成的 URL 协议，例如 "mailto："。</span><span class="sxs-lookup"><span data-stu-id="e3fed-212">**URL Protocols**: This controls the URL Protocols that are integrated into the local registry of the client machine e.g. “mailto:”.</span></span>

   <span data-ttu-id="e3fed-213">&lt;URLProtocols 启用 = "true"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-213">&lt;URLProtocols Enabled="true"&gt;</span></span>

   <span data-ttu-id="e3fed-214">&lt;Extensions&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-214">&lt;Extensions&gt;</span></span>

   <span data-ttu-id="e3fed-215">&lt;扩展类别 = "URLProtocol"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-215">&lt;Extension Category="AppV.URLProtocol"&gt;</span></span>

   <span data-ttu-id="e3fed-216">&lt;URLProtocol&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-216">&lt;URLProtocol&gt;</span></span>

     <span data-ttu-id="e3fed-217">&lt;名称 &gt; mailto &lt; /Name&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-217">&lt;Name&gt;mailto&lt;/Name&gt;</span></span>

     <span data-ttu-id="e3fed-218">&lt;ApplicationURLProtocol&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-218">&lt;ApplicationURLProtocol&gt;</span></span>

     <span data-ttu-id="e3fed-219">&lt;DefaultIcon &gt; \ [{ProgramFilesX86} \] \\Microsoft Contoso\\Contoso\\contosomail.EXE，-9403 &lt; /DefaultIcon&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-219">&lt;DefaultIcon&gt;\[{ProgramFilesX86}\]\\Microsoft Contoso\\Contoso\\contosomail.EXE,-9403&lt;/DefaultIcon&gt;</span></span>

     <span data-ttu-id="e3fed-220">&lt;EditFlags &gt; 2 &lt; /EditFlags&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-220">&lt;EditFlags&gt;2&lt;/EditFlags&gt;</span></span>

     <span data-ttu-id="e3fed-221">&lt;介绍&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-221">&lt;Description /&gt;</span></span>

     <span data-ttu-id="e3fed-222">&lt;AppUserModelId&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-222">&lt;AppUserModelId /&gt;</span></span>

     <span data-ttu-id="e3fed-223">&lt;FriendlyTypeName /&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-223">&lt;FriendlyTypeName /&gt;</span></span>

     <span data-ttu-id="e3fed-224">&lt;提示&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-224">&lt;InfoTip /&gt;</span></span>

   <span data-ttu-id="e3fed-225">&lt;SourceFilter /&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-225">&lt;SourceFilter /&gt;</span></span>

     <span data-ttu-id="e3fed-226">&lt;ShellFolder /&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-226">&lt;ShellFolder /&gt;</span></span>

     <span data-ttu-id="e3fed-227">&lt;WebNavigableCLSID /&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-227">&lt;WebNavigableCLSID /&gt;</span></span>

     <span data-ttu-id="e3fed-228">&lt;ExplorerFlags &gt; 2 &lt; /ExplorerFlags&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-228">&lt;ExplorerFlags&gt;2&lt;/ExplorerFlags&gt;</span></span>

     <span data-ttu-id="e3fed-229">&lt;CLSID&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-229">&lt;CLSID /&gt;</span></span>

     <span data-ttu-id="e3fed-230">&lt;ShellCommands&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-230">&lt;ShellCommands&gt;</span></span>

     <span data-ttu-id="e3fed-231">&lt;DefaultCommand &gt; open &lt; /DefaultCommand&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-231">&lt;DefaultCommand&gt;open&lt;/DefaultCommand&gt;</span></span>

     <span data-ttu-id="e3fed-232">&lt;ShellCommand&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-232">&lt;ShellCommand&gt;</span></span>

     <span data-ttu-id="e3fed-233">&lt;ApplicationId &gt; \ [{ProgramFilesX86} \] \\Microsoft Contoso\\Contoso\\contosomail.EXE&lt; /ApplicationId&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-233">&lt;ApplicationId&gt;\[{ProgramFilesX86}\]\\Microsoft Contoso\\Contoso\\contosomail.EXE&lt;/ApplicationId&gt;</span></span>

     <span data-ttu-id="e3fed-234">&lt;名称 &gt; open &lt; /Name&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-234">&lt;Name&gt;open&lt;/Name&gt;</span></span>

     <span data-ttu-id="e3fed-235">&lt;命令行 &gt; \ [{ProgramFilesX86} \\Microsoft Contoso\\Contoso\\contosomail.EXE "-c OEP。注意/m "%1" &lt; /CommandLine&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-235">&lt;CommandLine&gt;\[{ProgramFilesX86}\\Microsoft Contoso\\Contoso\\contosomail.EXE" -c OEP.Note /m "%1"&lt;/CommandLine&gt;</span></span>

     <span data-ttu-id="e3fed-236">&lt;DropTargetClassId /&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-236">&lt;DropTargetClassId /&gt;</span></span>

     <span data-ttu-id="e3fed-237">&lt;FriendlyName&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-237">&lt;FriendlyName /&gt;</span></span>

     <span data-ttu-id="e3fed-238">&lt;扩展的 &gt; 0 &lt; /Extended&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-238">&lt;Extended&gt;0&lt;/Extended&gt;</span></span>

     <span data-ttu-id="e3fed-239">&lt;LegacyDisable &gt; 0 &lt; /LegacyDisable&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-239">&lt;LegacyDisable&gt;0&lt;/LegacyDisable&gt;</span></span>

     <span data-ttu-id="e3fed-240">&lt;SuppressionPolicy &gt; 2 &lt; /SuppressionPolicy&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-240">&lt;SuppressionPolicy&gt;2&lt;/SuppressionPolicy&gt;</span></span>

      <span data-ttu-id="e3fed-241">&lt;DdeExec&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-241">&lt;DdeExec&gt;</span></span>

     <span data-ttu-id="e3fed-242">&lt;NoActivateHandler /&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-242">&lt;NoActivateHandler /&gt;</span></span>

     <span data-ttu-id="e3fed-243">&lt;应用程序 &gt; contosomail &lt; /Application&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-243">&lt;Application&gt;contosomail&lt;/Application&gt;</span></span>

     <span data-ttu-id="e3fed-244">&lt;主题 &gt; ShellSystem &lt; /Topic&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-244">&lt;Topic&gt;ShellSystem&lt;/Topic&gt;</span></span>

     <span data-ttu-id="e3fed-245">&lt;IfExec &gt; \ [SHELLNOOP \] &lt; /IfExec&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-245">&lt;IfExec&gt;\[SHELLNOOP\]&lt;/IfExec&gt;</span></span>

     <span data-ttu-id="e3fed-246">&lt;DdeCommand &gt; \ [SetForeground \] \ [ShellNewDatabase "%1" \] &lt; /DdeCommand&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-246">&lt;DdeCommand&gt;\[SetForeground\]\[ShellNewDatabase "%1"\]&lt;/DdeCommand&gt;</span></span>

     <span data-ttu-id="e3fed-247">&lt;/DdeExec&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-247">&lt;/DdeExec&gt;</span></span>

     <span data-ttu-id="e3fed-248">&lt;/ShellCommand&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-248">&lt;/ShellCommand&gt;</span></span>

     <span data-ttu-id="e3fed-249">&lt;/ShellCommands&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-249">&lt;/ShellCommands&gt;</span></span>

     <span data-ttu-id="e3fed-250">&lt;/ApplicationURLProtocol&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-250">&lt;/ApplicationURLProtocol&gt;</span></span>

     <span data-ttu-id="e3fed-251">&lt;/URLProtocol&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-251">&lt;/URLProtocol&gt;</span></span>

     <span data-ttu-id="e3fed-252">&lt;/Extension&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-252">&lt;/Extension&gt;</span></span>

     <span data-ttu-id="e3fed-253">&lt;/Extension&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-253">&lt;/Extension&gt;</span></span>

     <span data-ttu-id="e3fed-254">&lt;/URLProtocols&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-254">&lt;/URLProtocols&gt;</span></span>

   <span data-ttu-id="e3fed-255">**软件客户端**：允许应用注册为电子邮件客户端、新闻阅读器、媒体播放器，并使应用在 "设置程序访问和计算机默认值" UI 中可见。</span><span class="sxs-lookup"><span data-stu-id="e3fed-255">**Software Clients**: Allows the app to register as an Email client, news reader, media player and makes the app visible in the Set Program Access and Computer Defaults UI.</span></span> <span data-ttu-id="e3fed-256">在大多数情况下，只需启用和禁用它。</span><span class="sxs-lookup"><span data-stu-id="e3fed-256">In most cases you should only need to enable and disable it.</span></span> <span data-ttu-id="e3fed-257">如果您希望其他客户端（除了该客户端之外）仍启用，则还可以启用和禁用电子邮件客户端的控件。</span><span class="sxs-lookup"><span data-stu-id="e3fed-257">There is also a control to enable and disable the email client specifically if you want the other clients still enabled except for that client.</span></span>

   <span data-ttu-id="e3fed-258">&lt;SoftwareClients 启用 = "true"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-258">&lt;SoftwareClients Enabled="true"&gt;</span></span>

     <span data-ttu-id="e3fed-259">&lt;ClientConfiguration EmailEnabled = "false"/&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-259">&lt;ClientConfiguration EmailEnabled="false" /&gt;</span></span>

   <span data-ttu-id="e3fed-260">&lt;/SoftwareClients&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-260">&lt;/SoftwareClients&gt;</span></span>

   <span data-ttu-id="e3fed-261">AppPaths：-如果使用 "myapp" 的 apppath 名称注册应用程序 contoso.exe，则可以在 "运行" 菜单下键入 "myapp"，它将打开 "contoso.exe"。</span><span class="sxs-lookup"><span data-stu-id="e3fed-261">AppPaths:- If an application for example contoso.exe is registered with an apppath name of “myapp”, it allows you type “myapp” under the run menu and it will open contoso.exe.</span></span>

   <span data-ttu-id="e3fed-262">&lt;AppPaths 启用 = "true"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-262">&lt;AppPaths Enabled="true"&gt;</span></span>

   <span data-ttu-id="e3fed-263">&lt;Extensions&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-263">&lt;Extensions&gt;</span></span>

   <span data-ttu-id="e3fed-264">&lt;扩展类别 = "AppPath"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-264">&lt;Extension Category="AppV.AppPath"&gt;</span></span>

   <span data-ttu-id="e3fed-265">&lt;AppPath&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-265">&lt;AppPath&gt;</span></span>

     <span data-ttu-id="e3fed-266">&lt;ApplicationId &gt; \ [{ProgramFilesX86} \] \\Microsoft Contoso\\Contoso\\contosomail.EXE&lt; /ApplicationId&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-266">&lt;ApplicationId&gt;\[{ProgramFilesX86}\]\\Microsoft Contoso\\Contoso\\contosomail.EXE&lt;/ApplicationId&gt;</span></span>

     <span data-ttu-id="e3fed-267">&lt;名称 &gt;contosomail.exe&lt; /Name&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-267">&lt;Name&gt;contosomail.exe&lt;/Name&gt;</span></span>

     <span data-ttu-id="e3fed-268">&lt;ApplicationPath &gt; \ [{ProgramFilesX86} \] \\Microsoft Contoso\\Contoso\\contosomail.EXE&lt; /ApplicationPath&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-268">&lt;ApplicationPath&gt;\[{ProgramFilesX86}\]\\Microsoft Contoso\\Contoso\\contosomail.EXE&lt;/ApplicationPath&gt;</span></span>

     <span data-ttu-id="e3fed-269">&lt;PATHEnvironmentVariablePrefix /&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-269">&lt;PATHEnvironmentVariablePrefix /&gt;</span></span>

     <span data-ttu-id="e3fed-270">&lt;CanAcceptUrl &gt; false &lt; /CanAcceptUrl&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-270">&lt;CanAcceptUrl&gt;false&lt;/CanAcceptUrl&gt;</span></span>

     <span data-ttu-id="e3fed-271">&lt;SaveUrl /&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-271">&lt;SaveUrl /&gt;</span></span>

   <span data-ttu-id="e3fed-272">&lt;/AppPath&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-272">&lt;/AppPath&gt;</span></span>

   <span data-ttu-id="e3fed-273">&lt;/Extension&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-273">&lt;/Extension&gt;</span></span>

   <span data-ttu-id="e3fed-274">&lt;/Extensions&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-274">&lt;/Extensions&gt;</span></span>

   <span data-ttu-id="e3fed-275">&lt;/AppPaths&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-275">&lt;/AppPaths&gt;</span></span>

   <span data-ttu-id="e3fed-276">**COM**：允许应用程序注册本地 COM 服务器。</span><span class="sxs-lookup"><span data-stu-id="e3fed-276">**COM**: Allows an Application register Local COM servers.</span></span> <span data-ttu-id="e3fed-277">模式可以是集成、隔离或关闭。</span><span class="sxs-lookup"><span data-stu-id="e3fed-277">Mode can be Integration, Isolated or Off.</span></span> <span data-ttu-id="e3fed-278">Isol 时。</span><span class="sxs-lookup"><span data-stu-id="e3fed-278">When Isol.</span></span>

   <span data-ttu-id="e3fed-279">&lt;COM 模式 = "已隔离"/&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-279">&lt;COM Mode="Isolated"/&gt;</span></span>

   <span data-ttu-id="e3fed-280">**其他设置**：</span><span class="sxs-lookup"><span data-stu-id="e3fed-280">**Other Settings**:</span></span>

   <span data-ttu-id="e3fed-281">除了扩展之外，还可以启用/禁用和编辑其他子系统：</span><span class="sxs-lookup"><span data-stu-id="e3fed-281">In addition to Extensions, other subsystems can be enabled/disabled and edited:</span></span>

   <span data-ttu-id="e3fed-282">**虚拟内核对象**：</span><span class="sxs-lookup"><span data-stu-id="e3fed-282">**Virtual Kernel Objects**:</span></span>

   <span data-ttu-id="e3fed-283">&lt;已启用对象 = "false"/&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-283">&lt;Objects Enabled="false" /&gt;</span></span>

   <span data-ttu-id="e3fed-284">**虚拟注册表**：如果要在 HKCU 中的虚拟注册表中设置注册表，则使用该注册表</span><span class="sxs-lookup"><span data-stu-id="e3fed-284">**Virtual Registry**: Used if you want to set a registry in the Virtual Registry within HKCU</span></span>

   <span data-ttu-id="e3fed-285">&lt;已启用注册表 = "true"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-285">&lt;Registry Enabled="true"&gt;</span></span>

   <span data-ttu-id="e3fed-286">&lt;包括&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-286">&lt;Include&gt;</span></span>

   <span data-ttu-id="e3fed-287">&lt;Key Path = "\\REGISTRY\\USER\\\ [{AppVCurrentUserSID} \] \\Software\\ABC"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-287">&lt;Key Path="\\REGISTRY\\USER\\\[{AppVCurrentUserSID}\]\\Software\\ABC"&gt;</span></span>

   <span data-ttu-id="e3fed-288">&lt;值类型 = "REG \ _SZ" Name = "Bar" 数据 = "NewValue"/&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-288">&lt;Value Type="REG\_SZ" Name="Bar" Data="NewValue" /&gt;</span></span>

    <span data-ttu-id="e3fed-289">&lt;/Key&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-289">&lt;/Key&gt;</span></span>

     <span data-ttu-id="e3fed-290">&lt;Key Path = "\\REGISTRY\\USER\\\ [{AppVCurrentUserSID} \] \\Software\\EmptyKey"/&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-290">&lt;Key Path="\\REGISTRY\\USER\\\[{AppVCurrentUserSID}\]\\Software\\EmptyKey" /&gt;</span></span>

    <span data-ttu-id="e3fed-291">&lt;/Include&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-291">&lt;/Include&gt;</span></span>

   <span data-ttu-id="e3fed-292">&lt;删除&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-292">&lt;Delete&gt;</span></span>

     <span data-ttu-id="e3fed-293">&lt;/Registry&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-293">&lt;/Registry&gt;</span></span>

   **<span data-ttu-id="e3fed-294">虚拟文件系统</span><span class="sxs-lookup"><span data-stu-id="e3fed-294">Virtual File System</span></span>**

         &lt;FileSystem Enabled="true" /&gt;

   **<span data-ttu-id="e3fed-295">虚拟字体</span><span class="sxs-lookup"><span data-stu-id="e3fed-295">Virtual Fonts</span></span>**

         &lt;Fonts Enabled="false" /&gt;

   **<span data-ttu-id="e3fed-296">虚拟环境变量</span><span class="sxs-lookup"><span data-stu-id="e3fed-296">Virtual Environment Variables</span></span>**

   <span data-ttu-id="e3fed-297">&lt;EnvironmentVariables 启用 = "true"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-297">&lt;EnvironmentVariables Enabled="true"&gt;</span></span>

   <span data-ttu-id="e3fed-298">&lt;包括&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-298">&lt;Include&gt;</span></span>

          &lt;Variable Name="UserPath" Value="%path%;%UserProfile%" /&gt;

          &lt;Variable Name="UserLib" Value="%UserProfile%\\ABC" /&gt;

          &lt;/Include&gt;

         &lt;Delete&gt;

          &lt;Variable Name="lib" /&gt;

           &lt;/Delete&gt;

           &lt;/EnvironmentVariables&gt;

   **<span data-ttu-id="e3fed-299">虚拟服务</span><span class="sxs-lookup"><span data-stu-id="e3fed-299">Virtual services</span></span>**

         &lt;Services Enabled="false" /&gt;

3. <span data-ttu-id="e3fed-300">**UserScripts** -脚本可用于设置或更改虚拟环境以及在部署或删除时执行脚本，在应用程序执行之前，或者在应用程序终止后使用它们来 "清理" 环境。</span><span class="sxs-lookup"><span data-stu-id="e3fed-300">**UserScripts** – Scripts can be used to setup or alter the virtual environment as well as execute scripts at time of deployment or removal, before an application executes, or they can be used to “clean up” the environment after the application terminates.</span></span> <span data-ttu-id="e3fed-301">请参考由排序器输出的示例用户配置文件，以查看示例脚本。</span><span class="sxs-lookup"><span data-stu-id="e3fed-301">Please reference a sample User configuration file that is output by the sequencer to see a sample script.</span></span> <span data-ttu-id="e3fed-302">下面的 "脚本" 部分提供了有关可以使用的各种触发器的详细信息。</span><span class="sxs-lookup"><span data-stu-id="e3fed-302">The Scripts section below provides more information on the various triggers that can be used.</span></span>

4. <span data-ttu-id="e3fed-303">**ManagingAuthority** -当程序包的两个版本在同一台计算机上（一个部署到 app-v 4.6 和另一个部署在 app-v 5.0 的计算机上）共存时，可以使用。</span><span class="sxs-lookup"><span data-stu-id="e3fed-303">**ManagingAuthority** – Can be used when 2 versions of your package are co-existing on the same machine, one deployed to App-V 4.6 and the other deployed on App-V 5.0.</span></span> <span data-ttu-id="e3fed-304">若要允许 App-v vNext 接管已命名程序包的 app-v 4.6 扩展点，请在 UserConfig 文件中输入以下内容（其中 PackageName 是 app-v 4.6 中的程序包 GUID：</span><span class="sxs-lookup"><span data-stu-id="e3fed-304">To Allow App-V vNext to take over App-V 4.6 extension points for the named package enter the following in the UserConfig file (where PackageName is the Package GUID in App-V 4.6:</span></span>

   <span data-ttu-id="e3fed-305">&lt;ManagingAuthority TakeoverExtensionPointsFrom46 = "true" PackageName = "032630c0-b8e2-417c-acef-76fc5297fe81"/&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-305">&lt;ManagingAuthority TakeoverExtensionPointsFrom46="true" PackageName="032630c0-b8e2-417c-acef-76fc5297fe81" /&gt;</span></span>

### <span data-ttu-id="e3fed-306">动态部署配置文件</span><span class="sxs-lookup"><span data-stu-id="e3fed-306">Dynamic Deployment Configuration file</span></span>

<span data-ttu-id="e3fed-307">**标头**-部署配置文件的标题如下所示：</span><span class="sxs-lookup"><span data-stu-id="e3fed-307">**Header** - The header of a Deployment Configuration file is as follows:</span></span>

<span data-ttu-id="e3fed-308">&lt;？ xml 版本 = "1.0" 编码 = "utf-8"？ &gt; &lt;DeploymentConfiguration **PackageId**= "1F8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName = "Reserved" xmlns = " <https://schemas.microsoft.com/appv/2010/deploymentconfiguration"&gt> ;</span><span class="sxs-lookup"><span data-stu-id="e3fed-308">&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;DeploymentConfiguration **PackageId**="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved" xmlns="<https://schemas.microsoft.com/appv/2010/deploymentconfiguration"&gt>;</span></span>

<span data-ttu-id="e3fed-309">**PackageId**的值与清单文件中存在的值相同。</span><span class="sxs-lookup"><span data-stu-id="e3fed-309">The **PackageId** is the same value as exists in the manifest file.</span></span>

<span data-ttu-id="e3fed-310">**正文**-部署配置文件的正文包含两个部分：</span><span class="sxs-lookup"><span data-stu-id="e3fed-310">**Body** - The body of the deployment configuration file includes two sections:</span></span>

-   <span data-ttu-id="e3fed-311">"用户配置" 部分-允许与上一节中所述的用户配置文件相同的内容。</span><span class="sxs-lookup"><span data-stu-id="e3fed-311">User Configuration section –allows the same content as the User Configuration file described in the previous section.</span></span> <span data-ttu-id="e3fed-312">将程序包发布到用户后，此部分中的任何 appextensions 配置设置都将覆盖程序包内的清单中的相应设置，除非还提供用户配置文件。</span><span class="sxs-lookup"><span data-stu-id="e3fed-312">When the package is published to a user, any appextensions configuration settings in this section will override corresponding settings in the Manifest within the package unless a user configuration file is also provided.</span></span> <span data-ttu-id="e3fed-313">如果还提供了 UserConfig 文件，则将使用它，而不是部署配置文件中的用户设置。</span><span class="sxs-lookup"><span data-stu-id="e3fed-313">If a UserConfig file is also provided, it will be used instead of the User settings in the deployment configuration file.</span></span> <span data-ttu-id="e3fed-314">如果程序包是全局发布的，则仅将部署配置文件的内容与清单结合使用。</span><span class="sxs-lookup"><span data-stu-id="e3fed-314">If the package is published globally, then only the contents of the deployment configuration file will be used in combination with the manifest.</span></span>

-   <span data-ttu-id="e3fed-315">计算机配置部分-包含只能为整个计算机配置的信息，而不能为计算机上的特定用户配置信息。</span><span class="sxs-lookup"><span data-stu-id="e3fed-315">Machine Configuration section–contains information that can be configured only for an entire machine, not for a specific user on the machine.</span></span> <span data-ttu-id="e3fed-316">例如，HKEY \ _LOCAL 在 VFS 中 _MACHINE 注册表项。</span><span class="sxs-lookup"><span data-stu-id="e3fed-316">For example, HKEY\_LOCAL\_MACHINE registry keys in the VFS.</span></span>

<span data-ttu-id="e3fed-317">&lt;DeploymentConfiguration **PackageId**= "1F8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName = "Reserved" xmlns = " <https://schemas.microsoft.com/appv/2010/deploymentconfiguration"&gt> ;</span><span class="sxs-lookup"><span data-stu-id="e3fed-317">&lt;DeploymentConfiguration **PackageId**="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved" xmlns="<https://schemas.microsoft.com/appv/2010/deploymentconfiguration"&gt>;</span></span>

<span data-ttu-id="e3fed-318">&lt;UserConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-318">&lt;UserConfiguration&gt;</span></span>

  <span data-ttu-id="e3fed-319">..</span><span class="sxs-lookup"><span data-stu-id="e3fed-319">..</span></span>

<span data-ttu-id="e3fed-320">&lt;/UserConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-320">&lt;/UserConfiguration&gt;</span></span>

<span data-ttu-id="e3fed-321">&lt;MachineConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-321">&lt;MachineConfiguration&gt;</span></span>

<span data-ttu-id="e3fed-322">..</span><span class="sxs-lookup"><span data-stu-id="e3fed-322">..</span></span>

<span data-ttu-id="e3fed-323">&lt;/MachineConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-323">&lt;/MachineConfiguration&gt;</span></span>

<span data-ttu-id="e3fed-324">..</span><span class="sxs-lookup"><span data-stu-id="e3fed-324">..</span></span>

<span data-ttu-id="e3fed-325">&lt;/MachineConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-325">&lt;/MachineConfiguration&gt;</span></span>

<span data-ttu-id="e3fed-326">&lt;/DeploymentConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-326">&lt;/DeploymentConfiguration&gt;</span></span>

<span data-ttu-id="e3fed-327">**用户配置**-使用以前的 "**动态用户配置文件**" 部分，了解有关部署配置文件的 "用户配置" 部分中提供的设置的信息。</span><span class="sxs-lookup"><span data-stu-id="e3fed-327">**User Configuration** - use the previous **Dynamic User Configuration file** section for information on settings that are provided in the user configuration section of the Deployment Configuration file.</span></span>

<span data-ttu-id="e3fed-328">计算机配置-部署配置文件的 "计算机配置" 部分用于配置只能为整个计算机设置的信息，而不能为计算机上的特定用户配置信息。</span><span class="sxs-lookup"><span data-stu-id="e3fed-328">Machine Configuration - the Machine configuration section of the Deployment Configuration File is used to configure information that can be set only for an entire machine, not for a specific user on the computer.</span></span> <span data-ttu-id="e3fed-329">例如，HKEY \ _LOCAL \ _MACHINE 虚拟注册表中的注册表项。</span><span class="sxs-lookup"><span data-stu-id="e3fed-329">For example, HKEY\_LOCAL\_MACHINE registry keys in the Virtual Registry.</span></span> <span data-ttu-id="e3fed-330">此元素下允许有四个子部分</span><span class="sxs-lookup"><span data-stu-id="e3fed-330">There are four subsections allowed in under this element</span></span>

1.  <span data-ttu-id="e3fed-331">**子系统**-AppExtensions 和其他子系统在子系统下排列为子节点 &lt; &gt; ：</span><span class="sxs-lookup"><span data-stu-id="e3fed-331">**Subsystems** - AppExtensions and other subsystems are arranged as subnodes under &lt;Subsystems&gt;:</span></span>

    <span data-ttu-id="e3fed-332">&lt;MachineConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-332">&lt;MachineConfiguration&gt;</span></span>

      <span data-ttu-id="e3fed-333">&lt;子系统&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-333">&lt;Subsystems&gt;</span></span>

      <span data-ttu-id="e3fed-334">..</span><span class="sxs-lookup"><span data-stu-id="e3fed-334">..</span></span>

      <span data-ttu-id="e3fed-335">&lt;/Subsystems&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-335">&lt;/Subsystems&gt;</span></span>

    <span data-ttu-id="e3fed-336">..</span><span class="sxs-lookup"><span data-stu-id="e3fed-336">..</span></span>

    <span data-ttu-id="e3fed-337">&lt;/MachineConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-337">&lt;/MachineConfiguration&gt;</span></span>

    <span data-ttu-id="e3fed-338">下一节将显示各种子系统和使用示例。</span><span class="sxs-lookup"><span data-stu-id="e3fed-338">The following section displays the various subsystems and usage samples.</span></span>

    <span data-ttu-id="e3fed-339">**扩展**：</span><span class="sxs-lookup"><span data-stu-id="e3fed-339">**Extensions**:</span></span>

    <span data-ttu-id="e3fed-340">某些子系统（扩展子系统）只能控制扩展，这些应用程序只能应用于所有用户。</span><span class="sxs-lookup"><span data-stu-id="e3fed-340">Some subsystems (Extension Subsystems) control Extensions which can only apply to all users.</span></span> <span data-ttu-id="e3fed-341">子系统是应用程序功能。</span><span class="sxs-lookup"><span data-stu-id="e3fed-341">The subsystem is application capabilities.</span></span> <span data-ttu-id="e3fed-342">由于此操作仅适用于所有用户，因此必须对程序包进行全局发布，才能将此类型的扩展集成到本地系统中。</span><span class="sxs-lookup"><span data-stu-id="e3fed-342">Because this can only apply to all users, the package must be published globally in order for this type of extension to be integrated into the local system.</span></span> <span data-ttu-id="e3fed-343">适用于用户配置中的扩展的控件和设置的相同规则同样适用于 MachineConfiguration 部分中的扩展。</span><span class="sxs-lookup"><span data-stu-id="e3fed-343">The same rules for controls and settings that apply to the Extensions in the User Configuration also apply to those in the MachineConfiguration section.</span></span>

    <span data-ttu-id="e3fed-344">**应用程序功能**：由 Windows 操作系统界面中的默认程序使用。</span><span class="sxs-lookup"><span data-stu-id="e3fed-344">**Application Capabilities**: Used by default programs in windows operating system Interface.</span></span> <span data-ttu-id="e3fed-345">允许应用程序将其自身注册为能够打开某些文件扩展名，作为 "开始" 菜单 internet 浏览器槽的 contender，以便打开某些 windows MIME 类型。</span><span class="sxs-lookup"><span data-stu-id="e3fed-345">Allows an application to register itself as capable of opening certain file extensions, as a contender for the start menu internet browser slot, as capable of opening certain windows MIME types.</span></span><span data-ttu-id="e3fed-346">此扩展还使虚拟应用程序在 "设置默认程序" UI 中可见。：</span><span class="sxs-lookup"><span data-stu-id="e3fed-346"> This extension also makes the virtual application visible in the Set Default Programs UI.:</span></span>

    <span data-ttu-id="e3fed-347">&lt;ApplicationCapabilities 启用 = "true"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-347">&lt;ApplicationCapabilities Enabled="true"&gt;</span></span>

      <span data-ttu-id="e3fed-348">&lt;Extensions&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-348">&lt;Extensions&gt;</span></span>

       <span data-ttu-id="e3fed-349">&lt;扩展类别 = "ApplicationCapabilities"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-349">&lt;Extension Category="AppV.ApplicationCapabilities"&gt;</span></span>

        &lt;ApplicationCapabilities&gt;

         &lt;ApplicationId&gt;\[{PackageRoot}\]\\LitView\\LitViewBrowser.exe&lt;/ApplicationId&gt;

         &lt;Reference&gt;

          &lt;Name&gt;LitView Browser&lt;/Name&gt;

          &lt;Path&gt;SOFTWARE\\LitView\\Browser\\Capabilities&lt;/Path&gt;

         &lt;/Reference&gt;

       <span data-ttu-id="e3fed-350">&lt;CapabilityGroup&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-350">&lt;CapabilityGroup&gt;</span></span>

        &lt;Capabilities&gt;

         &lt;Name&gt;@\[{ProgramFilesX86}\]\\LitView\\LitViewBrowser.exe,-12345&lt;/Name&gt;

         &lt;Description&gt;@\[{ProgramFilesX86}\]\\LitView\\LitViewBrowser.exe,-12346&lt;/Description&gt;

         &lt;Hidden&gt;0&lt;/Hidden&gt;

         &lt;EMailSoftwareClient&gt;Lit View E-Mail Client&lt;/EMailSoftwareClient&gt;

         &lt;FileAssociationList&gt;

          &lt;FileAssociation Extension=".htm" ProgID="LitViewHTML" /&gt;

          &lt;FileAssociation Extension=".html" ProgID="LitViewHTML" /&gt;

          &lt;FileAssociation Extension=".shtml" ProgID="LitViewHTML" /&gt;

         &lt;/FileAssociationList&gt;

         &lt;MIMEAssociationList&gt;

          &lt;MIMEAssociation Type="audio/mp3" ProgID="LitViewHTML" /&gt;

          &lt;MIMEAssociation Type="audio/mpeg" ProgID="LitViewHTML" /&gt;

         &lt;/MIMEAssociationList&gt;

        &lt;URLAssociationList&gt;

          &lt;URLAssociation Scheme="http" ProgID="LitViewHTML.URL.http" /&gt;

         &lt;/URLAssociationList&gt;

         &lt;/Capabilities&gt;

      <span data-ttu-id="e3fed-351">&lt;/CapabilityGroup&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-351">&lt;/CapabilityGroup&gt;</span></span>

       <span data-ttu-id="e3fed-352">&lt;/ApplicationCapabilities&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-352">&lt;/ApplicationCapabilities&gt;</span></span>

      <span data-ttu-id="e3fed-353">&lt;/Extension&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-353">&lt;/Extension&gt;</span></span>

    <span data-ttu-id="e3fed-354">&lt;/Extensions&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-354">&lt;/Extensions&gt;</span></span>

    <span data-ttu-id="e3fed-355">&lt;/ApplicationCapabilities&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-355">&lt;/ApplicationCapabilities&gt;</span></span>

    <span data-ttu-id="e3fed-356">**其他设置**：</span><span class="sxs-lookup"><span data-stu-id="e3fed-356">**Other Settings**:</span></span>

    <span data-ttu-id="e3fed-357">除了扩展外，还可以编辑其他子系统：</span><span class="sxs-lookup"><span data-stu-id="e3fed-357">In addition to Extensions, other subsystems can be edited:</span></span>

    <span data-ttu-id="e3fed-358">**计算机范围的虚拟注册表**：当你想要在 HKEY 中的虚拟注册表中设置注册表项时，请使用： _Local \ _Machine</span><span class="sxs-lookup"><span data-stu-id="e3fed-358">**Machine Wide Virtual Registry**: Used when you want to set a registry key in the virtual registry within HKEY\_Local\_Machine</span></span>

    <span data-ttu-id="e3fed-359">&lt;注册表&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-359">&lt;Registry&gt;</span></span>

    <span data-ttu-id="e3fed-360">&lt;包括&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-360">&lt;Include&gt;</span></span>

      <span data-ttu-id="e3fed-361">&lt;注册表项路径 = "\\REGISTRY\\Machine\\Software\\ABC"&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-361">&lt;Key Path="\\REGISTRY\\Machine\\Software\\ABC"&gt;</span></span>

        &lt;Value Type="REG\_SZ" Name="Bar" Data="Baz" /&gt;

       <span data-ttu-id="e3fed-362">&lt;/Key&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-362">&lt;/Key&gt;</span></span>

      <span data-ttu-id="e3fed-363">&lt;键路径 = "\\REGISTRY\\Machine\\Software\\EmptyKey"/&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-363">&lt;Key Path="\\REGISTRY\\Machine\\Software\\EmptyKey" /&gt;</span></span>

     <span data-ttu-id="e3fed-364">&lt;/Include&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-364">&lt;/Include&gt;</span></span>

    <span data-ttu-id="e3fed-365">&lt;删除&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-365">&lt;Delete&gt;</span></span>

    <span data-ttu-id="e3fed-366">&lt;/Registry&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-366">&lt;/Registry&gt;</span></span>

    **<span data-ttu-id="e3fed-367">计算机范围的虚拟内核对象</span><span class="sxs-lookup"><span data-stu-id="e3fed-367">Machine Wide Virtual Kernel Objects</span></span>**

    <span data-ttu-id="e3fed-368">&lt;对象&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-368">&lt;Objects&gt;</span></span>

    <span data-ttu-id="e3fed-369">&lt;NotIsolate&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-369">&lt;NotIsolate&gt;</span></span>

       <span data-ttu-id="e3fed-370">&lt;对象名称 = "testObject"/&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-370">&lt;Object Name="testObject" /&gt;</span></span>

     <span data-ttu-id="e3fed-371">&lt;/NotIsolate&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-371">&lt;/NotIsolate&gt;</span></span>

    <span data-ttu-id="e3fed-372">&lt;/Objects&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-372">&lt;/Objects&gt;</span></span>

2.  <span data-ttu-id="e3fed-373">**ProductSourceURLOptOut**：指示是否可以通过 PackageSourceRoot 全局修改程序包的 URL （以支持分支 office 方案）。</span><span class="sxs-lookup"><span data-stu-id="e3fed-373">**ProductSourceURLOptOut**: Indicates whether the URL for the package can be modified globally through PackageSourceRoot (to support branch office scenarios).</span></span> <span data-ttu-id="e3fed-374">默认值为 false，设置更改将在下一次启动时生效。</span><span class="sxs-lookup"><span data-stu-id="e3fed-374">Default is false and the setting change takes effect on the next launch.</span></span>  

    <span data-ttu-id="e3fed-375">&lt;MachineConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-375">&lt;MachineConfiguration&gt;</span></span>

      <span data-ttu-id="e3fed-376">..</span><span class="sxs-lookup"><span data-stu-id="e3fed-376">..</span></span> 

      <span data-ttu-id="e3fed-377">&lt;ProductSourceURLOptOut 启用 = "true"/&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-377">&lt;ProductSourceURLOptOut Enabled="true" /&gt;</span></span>

      <span data-ttu-id="e3fed-378">..</span><span class="sxs-lookup"><span data-stu-id="e3fed-378">..</span></span>

    <span data-ttu-id="e3fed-379">&lt;/MachineConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-379">&lt;/MachineConfiguration&gt;</span></span>

3.  <span data-ttu-id="e3fed-380">**MachineScripts** -程序包可以配置为在部署、发布或删除时执行脚本。</span><span class="sxs-lookup"><span data-stu-id="e3fed-380">**MachineScripts** – Package can be configured to execute scripts at time of deployment, publishing or removal.</span></span> <span data-ttu-id="e3fed-381">请参考由排序器生成的示例部署配置文件，以查看示例脚本。</span><span class="sxs-lookup"><span data-stu-id="e3fed-381">Please reference a sample deployment configuration file that is generated by the sequencer to see a sample script.</span></span> <span data-ttu-id="e3fed-382">下面的 "脚本" 部分提供了有关可使用的各种触发器的详细信息</span><span class="sxs-lookup"><span data-stu-id="e3fed-382">The Scripts section below provides more information on the various triggers that can be used</span></span>

4.  <span data-ttu-id="e3fed-383">**TerminateChildProcess**：-可指定应用程序可执行文件，其子进程将在应用程序 exe 进程终止时终止。</span><span class="sxs-lookup"><span data-stu-id="e3fed-383">**TerminateChildProcess**:- An application executable can be specified, whose child processes will be terminated when the application exe process is terminated.</span></span>

    <span data-ttu-id="e3fed-384">&lt;MachineConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-384">&lt;MachineConfiguration&gt;</span></span>

      <span data-ttu-id="e3fed-385">..</span><span class="sxs-lookup"><span data-stu-id="e3fed-385">..</span></span>   

      <span data-ttu-id="e3fed-386">&lt;TerminateChildProcesses&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-386">&lt;TerminateChildProcesses&gt;</span></span>

        &lt;Application Path="\[{PackageRoot}\]\\Contoso\\ContosoApp.EXE" /&gt;

        &lt;Application Path="\[{PackageRoot}\]\\LitView\\LitViewBrowser.exe" /&gt;

        &lt;Application Path="\[{ProgramFilesX86}\]\\Microsoft Contoso\\Contoso\\contosomail.EXE" /&gt;

      <span data-ttu-id="e3fed-387">&lt;/TerminateChildProcesses&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-387">&lt;/TerminateChildProcesses&gt;</span></span>

      <span data-ttu-id="e3fed-388">..</span><span class="sxs-lookup"><span data-stu-id="e3fed-388">..</span></span>

    <span data-ttu-id="e3fed-389">&lt;/MachineConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="e3fed-389">&lt;/MachineConfiguration&gt;</span></span>

### <span data-ttu-id="e3fed-390">脚本</span><span class="sxs-lookup"><span data-stu-id="e3fed-390">Scripts</span></span>

<span data-ttu-id="e3fed-391">下表描述了各种脚本事件和可以在其中运行它们的上下文。</span><span class="sxs-lookup"><span data-stu-id="e3fed-391">The following table describes the various script events and the context under which they can be run.</span></span>

<table style="width:100%;">
<colgroup>
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"><span data-ttu-id="e3fed-392">脚本执行时间</span><span class="sxs-lookup"><span data-stu-id="e3fed-392">Script Execution Time</span></span></th>
<th align="left"><span data-ttu-id="e3fed-393">可在部署配置中指定</span><span class="sxs-lookup"><span data-stu-id="e3fed-393">Can be specified in Deployment Configuration</span></span></th>
<th align="left"><span data-ttu-id="e3fed-394">可在 "用户配置" 中指定</span><span class="sxs-lookup"><span data-stu-id="e3fed-394">Can be specified in User Configuration</span></span></th>
<th align="left"><span data-ttu-id="e3fed-395">可以在程序包的虚拟环境中运行</span><span class="sxs-lookup"><span data-stu-id="e3fed-395">Can run in the Virtual Environment of the package</span></span></th>
<th align="left"><span data-ttu-id="e3fed-396">可以在特定应用程序的上下文中运行</span><span class="sxs-lookup"><span data-stu-id="e3fed-396">Can be run in the context of a specific application</span></span></th>
<th align="left"><span data-ttu-id="e3fed-397">在系统/用户上下文中运行：（部署配置、用户配置）</span><span class="sxs-lookup"><span data-stu-id="e3fed-397">Runs in system/user context: (Deployment Configuration, User Configuration)</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p><span data-ttu-id="e3fed-398">AddPackage</span><span class="sxs-lookup"><span data-stu-id="e3fed-398">AddPackage</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-399">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-399">X</span></span></p></td>
<td align="left"><p></p></td>
<td align="left"><p></p></td>
<td align="left"><p></p></td>
<td align="left"><p><span data-ttu-id="e3fed-400">（SYSTEM，N/A）</span><span class="sxs-lookup"><span data-stu-id="e3fed-400">(SYSTEM, N/A)</span></span></p></td>
</tr>
<tr class="even">
<td align="left"><p><span data-ttu-id="e3fed-401">PublishPackage</span><span class="sxs-lookup"><span data-stu-id="e3fed-401">PublishPackage</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-402">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-402">X</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-403">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-403">X</span></span></p></td>
<td align="left"><p></p></td>
<td align="left"><p></p></td>
<td align="left"><p><span data-ttu-id="e3fed-404">（系统、用户）</span><span class="sxs-lookup"><span data-stu-id="e3fed-404">(SYSTEM, User)</span></span></p></td>
</tr>
<tr class="odd">
<td align="left"><p><span data-ttu-id="e3fed-405">UnpublishPackage</span><span class="sxs-lookup"><span data-stu-id="e3fed-405">UnpublishPackage</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-406">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-406">X</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-407">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-407">X</span></span></p></td>
<td align="left"><p></p></td>
<td align="left"><p></p></td>
<td align="left"><p><span data-ttu-id="e3fed-408">（系统、用户）</span><span class="sxs-lookup"><span data-stu-id="e3fed-408">(SYSTEM, User)</span></span></p></td>
</tr>
<tr class="even">
<td align="left"><p><span data-ttu-id="e3fed-409">RemovePackage</span><span class="sxs-lookup"><span data-stu-id="e3fed-409">RemovePackage</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-410">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-410">X</span></span></p></td>
<td align="left"><p></p></td>
<td align="left"><p></p></td>
<td align="left"><p></p></td>
<td align="left"><p><span data-ttu-id="e3fed-411">（SYSTEM，N/A）</span><span class="sxs-lookup"><span data-stu-id="e3fed-411">(SYSTEM, N/A)</span></span></p></td>
</tr>
<tr class="odd">
<td align="left"><p><span data-ttu-id="e3fed-412">StartProcess</span><span class="sxs-lookup"><span data-stu-id="e3fed-412">StartProcess</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-413">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-413">X</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-414">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-414">X</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-415">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-415">X</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-416">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-416">X</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-417">（用户、用户）</span><span class="sxs-lookup"><span data-stu-id="e3fed-417">(User, User)</span></span></p></td>
</tr>
<tr class="even">
<td align="left"><p><span data-ttu-id="e3fed-418">ExitProcess</span><span class="sxs-lookup"><span data-stu-id="e3fed-418">ExitProcess</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-419">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-419">X</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-420">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-420">X</span></span></p></td>
<td align="left"><p></p></td>
<td align="left"><p><span data-ttu-id="e3fed-421">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-421">X</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-422">（用户、用户）</span><span class="sxs-lookup"><span data-stu-id="e3fed-422">(User, User)</span></span></p></td>
</tr>
<tr class="odd">
<td align="left"><p><span data-ttu-id="e3fed-423">StartVirtualEnvironment</span><span class="sxs-lookup"><span data-stu-id="e3fed-423">StartVirtualEnvironment</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-424">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-424">X</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-425">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-425">X</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-426">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-426">X</span></span></p></td>
<td align="left"><p></p></td>
<td align="left"><p><span data-ttu-id="e3fed-427">（用户、用户）</span><span class="sxs-lookup"><span data-stu-id="e3fed-427">(User, User)</span></span></p></td>
</tr>
<tr class="even">
<td align="left"><p><span data-ttu-id="e3fed-428">TerminateVirtualEnvironment</span><span class="sxs-lookup"><span data-stu-id="e3fed-428">TerminateVirtualEnvironment</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-429">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-429">X</span></span></p></td>
<td align="left"><p><span data-ttu-id="e3fed-430">X</span><span class="sxs-lookup"><span data-stu-id="e3fed-430">X</span></span></p></td>
<td align="left"><p></p></td>
<td align="left"><p></p></td>
<td align="left"><p><span data-ttu-id="e3fed-431">（用户、用户）</span><span class="sxs-lookup"><span data-stu-id="e3fed-431">(User, User)</span></span></p></td>
</tr>
</tbody>
</table>

 

### <span data-ttu-id="e3fed-432">使用 app-v 5.0 清单文件创建动态配置文件</span><span class="sxs-lookup"><span data-stu-id="e3fed-432">Create a Dynamic Configuration file using an App-V 5.0 Manifest file</span></span>

<span data-ttu-id="e3fed-433">你可以使用以下三种方法之一创建动态配置文件：手动使用 App-v 5.0 管理控制台或对程序包进行排序（将使用两个示例文件生成）。</span><span class="sxs-lookup"><span data-stu-id="e3fed-433">You can create the Dynamic Configuration file using one of three methods: either manually, using the App-V 5.0 Management Console or sequencing a package, which will be generated with 2 sample files.</span></span>

<span data-ttu-id="e3fed-434">有关如何使用 App-v 5.0 管理控制台创建文件的详细信息，请参阅[如何使用 app-v 5.0 管理控制台创建自定义配置文件](how-to-create-a-custom-configuration-file-by-using-the-app-v-50-management-console.md)。</span><span class="sxs-lookup"><span data-stu-id="e3fed-434">For more information about how to create the file using the App-V 5.0 Management Console see, [How to Create a Custom Configuration File by Using the App-V 5.0 Management Console](how-to-create-a-custom-configuration-file-by-using-the-app-v-50-management-console.md).</span></span>

<span data-ttu-id="e3fed-435">若要手动创建文件，上一节中的上述信息可以合并到单个文件中。</span><span class="sxs-lookup"><span data-stu-id="e3fed-435">To create the file manually, the information above in previous sections can be combined into a single file.</span></span> <span data-ttu-id="e3fed-436">我们建议使用由排序器生成的文件。</span><span class="sxs-lookup"><span data-stu-id="e3fed-436">We recommend you use files generated by the sequencer.</span></span>






## <span data-ttu-id="e3fed-437">相关主题</span><span class="sxs-lookup"><span data-stu-id="e3fed-437">Related topics</span></span>


[<span data-ttu-id="e3fed-438">如何使用 PowerShell 应用部署配置文件</span><span class="sxs-lookup"><span data-stu-id="e3fed-438">How to Apply the Deployment Configuration File by Using PowerShell</span></span>](how-to-apply-the-deployment-configuration-file-by-using-powershell.md)

[<span data-ttu-id="e3fed-439">如何使用 PowerShell 应用用户配置文件</span><span class="sxs-lookup"><span data-stu-id="e3fed-439">How to Apply the User Configuration File by Using PowerShell</span></span>](how-to-apply-the-user-configuration-file-by-using-powershell.md)

[<span data-ttu-id="e3fed-440">App-V 5.0 的操作</span><span class="sxs-lookup"><span data-stu-id="e3fed-440">Operations for App-V 5.0</span></span>](operations-for-app-v-50.md)

 

 





